<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üå°Ô∏è –¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ –ø–æ–≤—ñ—Ç—Ä—è - –ü—Ä–∏–≥–æ–¥–∞ –∑ –∫–≤–µ—Å—Ç–æ–º!</title>
    <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;700;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="styles.css">
    <style>
        /* –î—Ä—É–∂–Ω—ñ –∫–æ–ª—å–æ—Ä–∏ –¥–ª—è –¥—ñ—Ç–µ–π */
        :root {
            --kid-blue: #4DC3FF;
            --kid-orange: #FF9966;
            --kid-green: #66FF99;
            --kid-purple: #CC99FF;
            --kid-yellow: #FFCC00;
            --kid-pink: #FF66CC;
        }

        /* –ê–Ω—ñ–º–∞—Ü—ñ—è –¥–ª—è —É–≤–∞–≥–∏ */
        @keyframes bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }

        @keyframes sparkle {
            0% { opacity: 0.3; transform: scale(1); }
            50% { opacity: 1; transform: scale(1.1); }
            100% { opacity: 0.3; transform: scale(1); }
        }

        @keyframes slideIn {
            from { transform: translateX(-100px); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }

        /* –ó–∞–≥–∞–ª—å–Ω—ñ —Å—Ç–∏–ª—ñ */
        body {
            background: linear-gradient(135deg, #0a192f 0%, #1a365d 100%);
            background-attachment: fixed;
        }

        .quest-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px 0;
            margin-bottom: 20px;
            border-bottom: 3px dotted var(--kid-blue);
            animation: slideIn 0.8s ease-out;
        }

        .user-info {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .user-avatar {
            width: 70px;
            height: 70px;
            background: linear-gradient(45deg, var(--kid-blue), var(--kid-purple));
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 32px;
            box-shadow: 0 0 25px var(--kid-blue);
            animation: bounce 2s infinite;
        }

        .points-display {
            background: rgba(255, 204, 0, 0.3);
            padding: 12px 25px;
            border-radius: 50px;
            border: 3px solid var(--kid-yellow);
            font-weight: bold;
            display: flex;
            align-items: center;
            gap: 12px;
            font-size: 20px;
            box-shadow: 0 0 20px rgba(255, 204, 0, 0.5);
        }

        /* –ú—ñ—Å—ñ—è-–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä */
        .mission-container {
            background: rgba(255, 255, 255, 0.08);
            backdrop-filter: blur(10px);
            border-radius: 25px;
            padding: 25px;
            margin: 25px 0;
            border: 3px solid var(--kid-green);
            position: relative;
            overflow: hidden;
        }

        .mission-container::before {
            content: 'üéØ –ú–Ü–°–Ü–Ø';
            position: absolute;
            top: -15px;
            left: 20px;
            background: var(--kid-green);
            color: #000;
            padding: 5px 15px;
            border-radius: 15px;
            font-weight: bold;
            font-size: 14px;
        }

        /* –û—Å–Ω–æ–≤–Ω–∞ —Å–∏–º—É–ª—è—Ü—ñ—è */
        .main-simulation {
            position: relative;
            width: 100%;
            height: 450px;
            background: linear-gradient(to bottom, #1e3c72 0%, #2a5298 100%);
            border-radius: 30px;
            overflow: hidden;
            margin: 30px 0;
            border: 5px solid var(--kid-orange);
            box-shadow: 0 0 60px rgba(255, 153, 102, 0.6);
        }

        .sky {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 70%;
            background: linear-gradient(to bottom, #4DC3FF, #87CEEB);
        }

        .ground-layer {
            position: absolute;
            bottom: 0;
            width: 100%;
            height: 30%;
            background: linear-gradient(to top, #2E8B57, #3CB371);
            display: flex;
            align-items: flex-end;
            justify-content: space-around;
        }

        /* –ì–æ—Ä–∏ –∑ —Ä—ñ–∑–Ω–æ—é –≤–∏—Å–æ—Ç–æ—é */
        .mountain {
            position: relative;
            width: 120px;
            height: 80px;
            background: linear-gradient(to top, #556B2F, #6B8E23);
            clip-path: polygon(50% 0%, 0% 100%, 100% 100%);
            margin: 0 10px;
            box-shadow: 5px 5px 15px rgba(0,0,0,0.3);
        }

        .mountain::after {
            content: attr(data-temp);
            position: absolute;
            top: -40px;
            left: 50%;
            transform: translateX(-50%);
            background: rgba(0,0,0,0.7);
            color: white;
            padding: 5px 10px;
            border-radius: 10px;
            font-weight: bold;
            opacity: 0;
            transition: opacity 0.3s;
        }

        .mountain:hover::after {
            opacity: 1;
        }

        /* –°–æ–Ω—Ü–µ –∑ –∞–Ω—ñ–º–∞—Ü—ñ—î—é */
        .sun {
            position: absolute;
            width: 100px;
            height: 100px;
            background: radial-gradient(circle at 30% 30%, #FFD700, #FF8C00);
            border-radius: 50%;
            box-shadow: 0 0 80px #FFA500, 0 0 120px rgba(255, 165, 0, 0.5);
            cursor: grab;
            z-index: 10;
            left: 50%;
            transform: translateX(-50%);
            transition: top 1s ease;
        }

        .sun:active {
            cursor: grabbing;
        }

        .sun:hover {
            animation: sparkle 1s infinite;
        }

        /* –ü—Ä–æ–º–µ–Ω—ñ —Å–æ–Ω—Ü—è */
        .sun-rays {
            position: absolute;
            width: 250px;
            height: 250px;
            border-radius: 50%;
            border: 4px dashed rgba(255, 215, 0, 0.4);
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            z-index: 5;
            animation: rotate 20s linear infinite;
        }

        @keyframes rotate {
            from { transform: translate(-50%, -50%) rotate(0deg); }
            to { transform: translate(-50%, -50%) rotate(360deg); }
        }

        /* –¢–µ—Ä–º–æ–º–µ—Ç—Ä–∏ –Ω–∞ —Ä—ñ–∑–Ω–∏—Ö –≤–∏—Å–æ—Ç–∞—Ö */
        .thermometer-station {
            position: absolute;
            display: flex;
            flex-direction: column;
            align-items: center;
            z-index: 20;
        }

        .thermometer {
            width: 35px;
            height: 180px;
            background: rgba(255, 255, 255, 0.9);
            border: 3px solid var(--kid-blue);
            border-radius: 20px;
            overflow: hidden;
            box-shadow: 0 0 25px var(--kid-blue);
            position: relative;
        }

        .mercury {
            position: absolute;
            bottom: 0;
            width: 100%;
            background: linear-gradient(to top, #00FFFF, #FF4500);
            transition: height 1.5s ease;
        }

        .temp-label {
            position: absolute;
            bottom: -30px;
            background: rgba(0,0,0,0.7);
            color: white;
            padding: 5px 10px;
            border-radius: 10px;
            font-weight: bold;
            font-size: 16px;
            min-width: 60px;
            text-align: center;
        }

        .height-label {
            position: absolute;
            top: -30px;
            color: white;
            font-weight: bold;
            background: rgba(0,0,0,0.5);
            padding: 3px 8px;
            border-radius: 8px;
        }

        /* –ö–æ–Ω—Ç—Ä–æ–ª—å–Ω–∞ –ø–∞–Ω–µ–ª—å */
        .control-panel {
            background: rgba(77, 195, 255, 0.1);
            padding: 25px;
            border-radius: 25px;
            margin: 30px 0;
            border: 3px solid var(--kid-blue);
            box-shadow: 0 0 35px rgba(77, 195, 255, 0.3);
        }

        .time-selector {
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
            justify-content: center;
            margin-top: 20px;
        }

        .time-btn {
            padding: 18px 25px;
            background: linear-gradient(145deg, var(--kid-purple), var(--kid-blue));
            border: none;
            color: white;
            border-radius: 20px;
            cursor: pointer;
            transition: all 0.3s;
            font-weight: bold;
            display: flex;
            align-items: center;
            gap: 12px;
            min-width: 170px;
            justify-content: center;
            font-size: 18px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }

        .time-btn:hover {
            transform: translateY(-8px) scale(1.05);
            box-shadow: 0 10px 25px rgba(0,0,0,0.3);
        }

        .time-btn.active {
            background: linear-gradient(145deg, var(--kid-yellow), var(--kid-orange));
            box-shadow: 0 0 40px var(--kid-yellow);
            animation: bounce 1s infinite;
        }

        /* –Ü–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ñ –∫–∞—Ä—Ç–æ—á–∫–∏ –∑–Ω–∞–Ω—å */
        .knowledge-card {
            background: rgba(102, 255, 153, 0.1);
            padding: 25px;
            border-radius: 25px;
            margin: 25px 0;
            border: 3px solid var(--kid-green);
            border-left: 10px solid var(--kid-green);
            position: relative;
            transition: transform 0.3s;
        }

        .knowledge-card:hover {
            transform: translateX(10px);
        }

        .knowledge-card h3 {
            color: var(--kid-green);
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 15px;
        }

        .card-number {
            background: var(--kid-green);
            color: #000;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 20px;
        }

        /* –Ü–≥—Ä–æ–≤–∏–π —Ç–µ—Å—Ç */
        .quiz-game {
            background: rgba(255, 102, 204, 0.1);
            padding: 30px;
            border-radius: 30px;
            margin: 40px 0;
            border: 4px solid var(--kid-pink);
            box-shadow: 0 0 40px rgba(255, 102, 204, 0.3);
        }

        .question-card {
            background: rgba(255, 255, 255, 0.1);
            padding: 25px;
            border-radius: 20px;
            margin: 25px 0;
            border: 2px solid rgba(255, 255, 255, 0.2);
            transition: all 0.3s;
        }

        .question-card:hover {
            border-color: var(--kid-yellow);
            box-shadow: 0 0 20px rgba(255, 204, 0, 0.3);
        }

        .answer-options {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }

        .answer-btn {
            padding: 20px;
            background: rgba(255, 255, 255, 0.08);
            border: 2px solid var(--kid-blue);
            border-radius: 20px;
            cursor: pointer;
            transition: all 0.3s;
            text-align: left;
            font-size: 18px;
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .answer-btn:hover {
            background: rgba(77, 195, 255, 0.2);
            transform: translateY(-5px);
        }

        .answer-btn.correct {
            background: rgba(102, 255, 153, 0.3);
            border-color: var(--kid-green);
            animation: sparkle 0.5s;
        }

        .answer-btn.wrong {
            background: rgba(255, 102, 102, 0.3);
            border-color: #FF6666;
        }

        .answer-icon {
            width: 30px;
            height: 30px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
        }

        /* –ù–∞–≥–æ—Ä–æ–¥–∏ —Ç–∞ –ø—Ä–æ–≥—Ä–µ—Å */
        .reward-badge {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: linear-gradient(135deg, var(--kid-yellow), var(--kid-orange));
            padding: 40px;
            border-radius: 30px;
            z-index: 1000;
            box-shadow: 0 0 100px rgba(255, 204, 0, 0.8);
            animation: bounce 1s infinite, slideIn 0.5s ease-out;
            display: none;
            text-align: center;
            max-width: 500px;
            border: 5px solid gold;
        }

        .badge-stars {
            font-size: 60px;
            margin: 20px 0;
            text-shadow: 0 0 30px gold;
        }

        .progress-tracker {
            background: rgba(0,0,0,0.2);
            padding: 20px;
            border-radius: 20px;
            margin: 20px 0;
        }

        .progress-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 10px;
            margin: 10px 0;
            background: rgba(255,255,255,0.05);
            border-radius: 10px;
        }

        .progress-item.completed {
            background: rgba(102, 255, 153, 0.2);
            border-left: 5px solid var(--kid-green);
        }

        /* –ú–æ–±—ñ–ª—å–Ω–∞ –∞–¥–∞–ø—Ç–∞—Ü—ñ—è */
        @media (max-width: 768px) {
            .main-simulation {
                height: 350px;
            }
            
            .sun {
                width: 80px;
                height: 80px;
            }
            
            .time-btn {
                min-width: 140px;
                padding: 15px 20px;
            }
            
            .answer-options {
                grid-template-columns: 1fr;
            }
            
            .user-avatar {
                width: 50px;
                height: 50px;
                font-size: 24px;
            }
        }

        /* –°–ø–µ—Ü—ñ–∞–ª—å–Ω—ñ –µ—Ñ–µ–∫—Ç–∏ */
        .sparkle {
            position: absolute;
            width: 10px;
            height: 10px;
            background: white;
            border-radius: 50%;
            pointer-events: none;
            animation: sparkle 1s infinite;
        }

        .confetti {
            position: fixed;
            width: 15px;
            height: 15px;
            pointer-events: none;
            z-index: 999;
            animation: fall linear forwards;
        }

        @keyframes fall {
            to {
                transform: translateY(100vh) rotate(360deg);
                opacity: 0;
            }
        }
    </style>
</head>
<body>
    <!-- –ö–æ–Ω—Ñ–µ—Ç—ñ -->
    <div id="confetti-container"></div>

    <div class="container">
        <div class="lesson-card">
            <!-- –•–µ–¥–µ—Ä –∑ –∞–≤–∞—Ç–∞—Ä–∫–æ—é -->
            <div class="quest-header">
                <div class="user-info">
                    <a href="index.html" class="btn-primary" style="background: linear-gradient(145deg, var(--kid-orange), var(--kid-yellow));">
                        <i class="fas fa-home"></i> –ì–æ–ª–æ–≤–Ω–∞
                    </a>
                    <div class="user-avatar">
                        <i class="fas fa-user-astronaut"></i>
                    </div>
                    <div>
                        <div id="userName" style="font-weight: bold; font-size: 22px; color: var(--kid-blue);">
                            –ü—Ä–∏–≤—ñ—Ç, –ú–µ—Ç–µ–æ—Ä–æ–ª–æ–≥!
                        </div>
                        <div id="userClass" style="opacity: 0.9; font-size: 16px;">
                            –ì–æ—Ç–æ–≤–∏–π –¥–æ –≤—ñ–¥–∫—Ä–∏—Ç—Ç—ñ–≤?
                        </div>
                    </div>
                </div>
                
                <div class="points-display">
                    <i class="fas fa-gem" style="color: var(--kid-blue);"></i>
                    <span id="totalPoints">0</span> –∑–Ω–∞–Ω—å-–∫—Ä–∏—Å—Ç–∞–ª—ñ–≤
                </div>
            </div>
            
            <!-- –ö–∞—Ä—Ç–∞ –º—ñ—Å—ñ—ó -->
            <div class="mission-container">
                <h2 style="color: var(--kid-green); margin-bottom: 15px;">
                    <i class="fas fa-map-marked-alt"></i> –ú–Ü–°–Ü–Ø: –î–û–°–õ–Ü–î–ù–ò–ö –¢–ï–ú–ü–ï–†–ê–¢–£–†–ò
                </h2>
                <div style="display: flex; align-items: center; gap: 20px; flex-wrap: wrap;">
                    <div style="flex: 1; min-width: 200px;">
                        <h3 style="color: var(--kid-yellow);">–¢–≤–æ—ó –∑–∞–≤–¥–∞–Ω–Ω—è:</h3>
                        <ul style="margin: 15px 0; padding-left: 25px;">
                            <li>üéØ –ó—Ä–æ–∑—É–º—ñ—Ç–∏, —è–∫ –Ω–∞–≥—Ä—ñ–≤–∞—î—Ç—å—Å—è –ø–æ–≤—ñ—Ç—Ä—è</li>
                            <li>üå°Ô∏è –í–∏–≤—á–∏—Ç–∏ —Ä–æ–±–æ—Ç—É —Ç–µ—Ä–º–æ–º–µ—Ç—Ä–∞</li>
                            <li>üèîÔ∏è –î–æ—Å–ª—ñ–¥–∏—Ç–∏ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—É –Ω–∞ —Ä—ñ–∑–Ω–∏—Ö –≤–∏—Å–æ—Ç–∞—Ö</li>
                            <li>‚è∞ –ó'—è—Å—É–≤–∞—Ç–∏, —á–æ–º—É –≤–¥–µ–Ω—å —Ç–µ–ø–ª—ñ—à–µ</li>
                        </ul>
                    </div>
                    <div style="flex: 1; min-width: 200px;">
                        <h3 style="color: var(--kid-pink);">–¢–≤–æ—ó –Ω–∞–≥–æ—Ä–æ–¥–∏:</h3>
                        <div class="progress-tracker">
                            <div class="progress-item">
                                <span>üî¨ –ü–µ—Ä—à–∏–π –µ–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç</span>
                                <span id="exp1" class="progress-icon">üîí</span>
                            </div>
                            <div class="progress-item">
                                <span>üìä –ê–Ω–∞–ª—ñ–∑ –¥–∞–Ω–∏—Ö</span>
                                <span id="exp2" class="progress-icon">üîí</span>
                            </div>
                            <div class="progress-item">
                                <span>üèÜ –¢–µ—Å—Ç-–º–∞–π—Å—Ç–µ—Ä</span>
                                <span id="exp3" class="progress-icon">üîí</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- –ì–æ–ª–æ–≤–Ω–∞ —Å–∏–º—É–ª—è—Ü—ñ—è -->
            <div style="text-align: center; margin-bottom: 30px;">
                <h1 style="color: var(--kid-orange); text-shadow: 0 0 20px rgba(255, 153, 102, 0.5);">
                    <i class="fas fa-temperature-high"></i> –¢–ï–ú–ü–ï–†–ê–¢–£–†–ê –ü–û–í–Ü–¢–†–Ø
                </h1>
                <p class="subtitle" style="font-size: 22px; color: var(--kid-blue);">
                    –ß–æ–º—É –≤ –≥–æ—Ä–∞—Ö —Ö–æ–ª–æ–¥–Ω—ñ—à–µ? –ß–æ–º—É –≤–¥–µ–Ω—å —Ç–µ–ø–ª—ñ—à–µ? –î–æ—Å–ª—ñ–¥–∂—É–π!
                </p>
            </div>
            
            <!-- –Ü–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞ –ª–∞–±–æ—Ä–∞—Ç–æ—Ä—ñ—è -->
            <div class="mission-container">
                <h2 style="color: var(--kid-orange); display: flex; align-items: center; gap: 15px;">
                    <i class="fas fa-flask"></i> –õ–ê–ë–û–†–ê–¢–û–†–Ü–Ø –ú–ï–¢–ï–û–†–û–õ–û–ì–ê
                </h2>
                <p style="margin-bottom: 20px; font-size: 18px;">
                    <strong>–ó–∞–≤–¥–∞–Ω–Ω—è:</strong> –ü–µ—Ä–µ–º—ñ—â—É–π —Å–æ–Ω—Ü–µ —Ç–∞ —Å–ø–æ—Å—Ç–µ—Ä—ñ–≥–∞–π, —è–∫ –∑–º—ñ–Ω—é—î—Ç—å—Å—è —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ –Ω–∞ —Ä—ñ–∑–Ω–∏—Ö –≤–∏—Å–æ—Ç–∞—Ö!
                </p>
                
                <div class="main-simulation" id="simulation">
                    <div class="sky"></div>
                    <div class="sun-rays"></div>
                    <div class="sun" id="sun" title="–ü–µ—Ä–µ—Ç—è–≥–Ω–∏ —Å–æ–Ω—Ü–µ –≤–≥–æ—Ä—É-–≤–Ω–∏–∑!"></div>
                    
                    <!-- –ì–æ—Ä–∏ –∑ —Ç–µ—Ä–º–æ–º–µ—Ç—Ä–∞–º–∏ -->
                    <div class="ground-layer">
                        <div class="thermometer-station" style="left: 15%; bottom: 30px;">
                            <div class="height-label">0 –º (—Ä—ñ–≤–µ–Ω—å –º–æ—Ä—è)</div>
                            <div class="thermometer">
                                <div class="mercury" id="mercury0"></div>
                            </div>
                            <div class="temp-label" id="temp0">+24¬∞C</div>
                        </div>
                        
                        <div class="mountain" data-temp="+18¬∞C" style="height: 60px; width: 100px;"></div>
                        
                        <div class="thermometer-station" style="left: 35%; bottom: 100px;">
                            <div class="height-label">1000 –º</div>
                            <div class="thermometer">
                                <div class="mercury" id="mercury1"></div>
                            </div>
                            <div class="temp-label" id="temp1">+18¬∞C</div>
                        </div>
                        
                        <div class="mountain" data-temp="+12¬∞C" style="height: 90px; width: 130px;"></div>
                        
                        <div class="thermometer-station" style="left: 55%; bottom: 160px;">
                            <div class="height-label">2000 –º</div>
                            <div class="thermometer">
                                <div class="mercury" id="mercury2"></div>
                            </div>
                            <div class="temp-label" id="temp2">+12¬∞C</div>
                        </div>
                        
                        <div class="mountain" data-temp="+6¬∞C" style="height: 120px; width: 150px;"></div>
                        
                        <div class="thermometer-station" style="left: 75%; bottom: 220px;">
                            <div class="height-label">3000 –º</div>
                            <div class="thermometer">
                                <div class="mercury" id="mercury3"></div>
                            </div>
                            <div class="temp-label" id="temp3">+6¬∞C</div>
                        </div>
                    </div>
                </div>
                
                <p style="text-align: center; margin-top: 20px; color: var(--kid-yellow);">
                    <i class="fas fa-lightbulb"></i> <strong>–í—ñ–¥–∫—Ä–∏—Ç—Ç—è:</strong> –ù–∞ –∫–æ–∂–Ω–∏–π –∫—ñ–ª–æ–º–µ—Ç—Ä –≤–≥–æ—Ä—É —Ö–æ–ª–æ–¥–Ω—ñ—à–∞—î –Ω–∞ 6¬∞C!
                </p>
            </div>
            
            <!-- –ü–∞–Ω–µ–ª—å –∫–æ–Ω—Ç—Ä–æ–ª—é -->
            <div class="control-panel">
                <h3 style="color: var(--kid-blue); text-align: center; margin-bottom: 25px;">
                    <i class="fas fa-clock"></i> –î–û–°–õ–Ü–î–ñ–£–Ñ–ú–û –î–û–ë–û–í–£ –ó–ú–Ü–ù–£ –¢–ï–ú–ü–ï–†–ê–¢–£–†–ò
                </h3>
                <p style="text-align: center; margin-bottom: 20px;">
                    –û–±–µ—Ä—ñ—Ç—å —á–∞—Å –¥–æ–±–∏ —Ç–∞ –ø–æ–¥–∏–≤—ñ—Ç—å—Å—è, —è–∫ –∑–º—ñ–Ω—é—î—Ç—å—Å—è —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞:
                </p>
                
                <div class="time-selector">
                    <button class="time-btn" data-time="4">
                        <i class="fas fa-moon"></i> 4:00 - –ù–∞–π—Ö–æ–ª–æ–¥–Ω—ñ—à–µ
                    </button>
                    <button class="time-btn" data-time="8">
                        <i class="fas fa-sunrise"></i> 8:00 - –†–∞–Ω–æ–∫
                    </button>
                    <button class="time-btn active" data-time="12">
                        <i class="fas fa-sun"></i> 12:00 - –ü–æ–ª—É–¥–µ–Ω—å
                    </button>
                    <button class="time-btn" data-time="15">
                        <i class="fas fa-sun"></i> 15:00 - –ù–∞–π—Ç–µ–ø–ª—ñ—à–µ
                    </button>
                    <button class="time-btn" data-time="19">
                        <i class="fas fa-sunset"></i> 19:00 - –í–µ—á—ñ—Ä
                    </button>
                    <button class="time-btn" data-time="23">
                        <i class="fas fa-star"></i> 23:00 - –ù—ñ—á
                    </button>
                </div>
                
                <div style="text-align: center; margin-top: 30px;">
                    <div class="knowledge-card">
                        <h3><span class="card-number">üí°</span> –¶–Ü–ö–ê–í–ò–ù–ö–ê</h3>
                        <p style="font-size: 18px;">
                            <strong>–°–æ–Ω—Ü–µ –Ω–µ –≥—Ä—ñ—î –ø–æ–≤—ñ—Ç—Ä—è –±–µ–∑–ø–æ—Å–µ—Ä–µ–¥–Ω—å–æ!</strong> –ô–æ–≥–æ –ø—Ä–æ–º–µ–Ω—ñ, —è–∫ —Å–∫–ª–æ –≤—ñ–∫–Ω–∞, 
                            –ø—Ä–æ—Ö–æ–¥—è—Ç—å –∫—Ä—ñ–∑—å –ø–æ–≤—ñ—Ç—Ä—è —ñ –≥—Ä—ñ—é—Ç—å –∑–µ–º–Ω—É –ø–æ–≤–µ—Ä—Ö–Ω—é. –í–∂–µ –≤—ñ–¥ –Ω–∞–≥—Ä—ñ—Ç–æ—ó –ø–æ–≤–µ—Ä—Ö–Ω—ñ 
                            –Ω–∞–≥—Ä—ñ–≤–∞—î—Ç—å—Å—è –ø–æ–≤—ñ—Ç—Ä—è!
                        </p>
                    </div>
                </div>
            </div>
            
            <!-- –ö–∞—Ä—Ç–∫–∏ –∑–Ω–∞–Ω—å (–≤—ñ–¥–ø–æ–≤—ñ–¥–Ω–æ –¥–æ –ø—ñ–¥—Ä—É—á–Ω–∏–∫–∞) -->
            <div class="mission-container">
                <h2 style="color: var(--kid-green); margin-bottom: 25px;">
                    <i class="fas fa-book-open"></i> –©–û –ö–ê–ñ–ï –ü–Ü–î–†–£–ß–ù–ò–ö?
                </h2>
                
                <div class="knowledge-card">
                    <h3><span class="card-number">1</span> –¢–ï–†–ú–û–ú–ï–¢–† - –ü–†–ò–õ–ê–î –í–Ü–î–ö–†–ò–¢–¢–Ü–í</h3>
                    <p>–¢–µ—Ä–º–æ–º–µ—Ç—Ä –≤–∏–º—ñ—Ä—é—î —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—É –ø–æ–≤—ñ—Ç—Ä—è. –©–æ–± –æ—Ç—Ä–∏–º–∞—Ç–∏ —Ç–æ—á–Ω—ñ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∏:</p>
                    <ul style="margin: 15px 0; padding-left: 25px;">
                        <li>üìè –¢—Ä–∏–º–∞—Ç–∏ –≤ –∑–∞—Ç—ñ–Ω–∫—É (–Ω–µ –Ω–∞ —Å–æ–Ω—Ü—ñ!)</li>
                        <li>üå°Ô∏è –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ —à–∫–∞–ª—É –¶–µ–ª—å—Å—ñ—è (–∑–∞–ø—Ä–æ–ø–æ–Ω—É–≤–∞–≤ —à–≤–µ–¥—Å—å–∫–∏–π —É—á–µ–Ω–∏–∫)</li>
                        <li>üïí –ó–Ω—ñ–º–∞—Ç–∏ –ø–æ–∫–∞–∑–Ω–∏–∫–∏ –∫–æ–∂–Ω—ñ 3 –≥–æ–¥–∏–Ω–∏ –Ω–∞ –º–µ—Ç–µ–æ—Å—Ç–∞–Ω—Ü—ñ—è—Ö</li>
                    </ul>
                </div>
                
                <div class="knowledge-card">
                    <h3><span class="card-number">2</span> –Ø–ö –ù–ê–ì–†–Ü–í–ê–Ñ–¢–¨–°–Ø –ü–û–í–Ü–¢–†–Ø?</h3>
                    <p>–ü—Ä–æ—Ü–µ—Å —É 3 –∫—Ä–æ–∫–∏:</p>
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 20px; margin: 20px 0;">
                        <div style="text-align: center;">
                            <div style="font-size: 40px;">‚òÄÔ∏è</div>
                            <p>1. –°–æ–Ω—è—á–Ω—ñ –ø—Ä–æ–º–µ–Ω—ñ –ø—Ä–æ—Ö–æ–¥—è—Ç—å –∫—Ä—ñ–∑—å –ø–æ–≤—ñ—Ç—Ä—è</p>
                        </div>
                        <div style="text-align: center;">
                            <div style="font-size: 40px;">üåç</div>
                            <p>2. –ù–∞–≥—Ä—ñ–≤–∞—é—Ç—å –∑–µ–º–Ω—É –ø–æ–≤–µ—Ä—Ö–Ω—é</p>
                        </div>
                        <div style="text-align: center;">
                            <div style="font-size: 40px;">üî•</div>
                            <p>3. –ü–æ–≤—ñ—Ç—Ä—è –Ω–∞–≥—Ä—ñ–≤–∞—î—Ç—å—Å—è –≤—ñ–¥ –ø–æ–≤–µ—Ä—Ö–Ω—ñ</p>
                        </div>
                    </div>
                </div>
                
                <div class="knowledge-card">
                    <h3><span class="card-number">3</span> –ó–ê–ö–û–ù–û–ú–Ü–†–ù–Ü–°–¢–¨ –í –¢–†–û–ü–û–°–§–ï–†–Ü</h3>
                    <p>–ó –≤–∏—Å–æ—Ç–æ—é —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ –ø–æ–≤—ñ—Ç—Ä—è –∑–Ω–∏–∂—É—î—Ç—å—Å—è:</p>
                    <div style="background: rgba(0,0,0,0.2); padding: 20px; border-radius: 15px; margin: 15px 0;">
                        <div style="display: flex; align-items: center; justify-content: center; flex-direction: column;">
                            <div style="font-size: 24px; color: var(--kid-blue);">üìâ</div>
                            <p style="font-size: 22px; font-weight: bold; color: var(--kid-green);">
                                –ù–∞ –∫–æ–∂–µ–Ω –∫—ñ–ª–æ–º–µ—Ç—Ä –≤–≥–æ—Ä—É —Ö–æ–ª–æ–¥–Ω—ñ—à–∞—î –Ω–∞ 6¬∞C
                            </p>
                            <p style="margin-top: 10px;">–¶–µ –Ω–∞–∑–∏–≤–∞—î—Ç—å—Å—è <strong>–≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω–∏–º —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–Ω–∏–º –≥—Ä–∞–¥—ñ—î–Ω—Ç–æ–º</strong></p>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- –Ü–≥—Ä–æ–≤–∏–π —Ç–µ—Å—Ç -->
            <div class="quiz-game">
                <h2 style="color: var(--kid-pink); text-align: center; margin-bottom: 30px;">
                    <i class="fas fa-gamepad"></i> –ü–ï–†–ï–í–Ü–† –°–ï–ë–ï: –¢–ï–°–¢-–ì–†–ê
                </h2>
                
                <div class="question-card">
                    <h3 style="color: var(--kid-blue);">
                        <i class="fas fa-question-circle"></i> –ó–∞–ø–∏—Ç–∞–Ω–Ω—è 1: –ß–æ–º—É –≤ –≥–æ—Ä–∞—Ö —Ö–æ–ª–æ–¥–Ω—ñ—à–µ, –Ω—ñ–∂ –Ω–∞ —Ä—ñ–≤–Ω–∏–Ω—ñ?
                    </h3>
                    <div class="answer-options">
                        <button class="answer-btn" data-correct="true" onclick="checkAnswer(this, 1)">
                            <span class="answer-icon">A</span>
                            –ü–æ–≤—ñ—Ç—Ä—è –Ω–∞–≥—Ä—ñ–≤–∞—î—Ç—å—Å—è –≤—ñ–¥ –∑–µ–º–Ω–æ—ó –ø–æ–≤–µ—Ä—Ö–Ω—ñ, –∞ –≤ –≥–æ—Ä–∞—Ö –ø–æ–≤–µ—Ä—Ö–Ω—è –¥–∞–ª–µ–∫–æ
                        </button>
                        <button class="answer-btn" data-correct="false" onclick="checkAnswer(this, 1)">
                            <span class="answer-icon">B</span>
                            –¢–∞–º —Å–∏–ª—å–Ω—ñ—à–∏–π –≤—ñ—Ç–µ—Ä
                        </button>
                        <button class="answer-btn" data-correct="false" onclick="checkAnswer(this, 1)">
                            <span class="answer-icon">C</span>
                            –°–æ–Ω—Ü–µ —Ç–∞–º –º–µ–Ω—à–µ —Å–≤—ñ—Ç–∏—Ç—å
                        </button>
                    </div>
                </div>
                
                <div class="question-card">
                    <h3 style="color: var(--kid-blue);">
                        <i class="fas fa-question-circle"></i> –ó–∞–ø–∏—Ç–∞–Ω–Ω—è 2: –ö–æ–ª–∏ –≤–¥–µ–Ω—å –Ω–∞–π–≤–∏—â–∞ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞?
                    </h3>
                    <div class="answer-options">
                        <button class="answer-btn" data-correct="true" onclick="checkAnswer(this, 2)">
                            <span class="answer-icon">A</span>
                            –û 14-15 –≥–æ–¥–∏–Ω—ñ (—á–µ—Ä–µ–∑ 2-3 –≥–æ–¥–∏–Ω–∏ –ø—ñ—Å–ª—è –ø–æ–ª—É–¥–Ω—è)
                        </button>
                        <button class="answer-btn" data-correct="false" onclick="checkAnswer(this, 2)">
                            <span class="answer-icon">B</span>
                            –û 12:00 —Ç–æ—á–Ω–æ –≤ –ø–æ–ª—É–¥–µ–Ω—å
                        </button>
                        <button class="answer-btn" data-correct="false" onclick="checkAnswer(this, 2)">
                            <span class="answer-icon">C</span>
                            –û 10:00 —Ä–∞–Ω–∫—É
                        </button>
                    </div>
                </div>
                
                <div class="question-card">
                    <h3 style="color: var(--kid-blue);">
                        <i class="fas fa-question-circle"></i> –ó–∞–ø–∏—Ç–∞–Ω–Ω—è 3: –Ø–∫ –ø—Ä–∞–≤–∏–ª—å–Ω–æ –≤–∏–º—ñ—Ä—é–≤–∞—Ç–∏ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—É –ø–æ–≤—ñ—Ç—Ä—è?
                    </h3>
                    <div class="answer-options">
                        <button class="answer-btn" data-correct="true" onclick="checkAnswer(this, 3)">
                            <span class="answer-icon">A</span>
                            –¢–µ—Ä–º–æ–º–µ—Ç—Ä–æ–º —É –∑–∞—Ç—ñ–Ω–∫—É, –Ω–∞ –≤–∏—Å–æ—Ç—ñ 2 –º–µ—Ç—Ä–∏
                        </button>
                        <button class="answer-btn" data-correct="false" onclick="checkAnswer(this, 3)">
                            <span class="answer-icon">B</span>
                            –ù–∞ —Å–æ–Ω—Ü—ñ, —â–æ–± —à–≤–∏–¥—à–µ –Ω–∞–≥—Ä—ñ–ª–æ—Å—è
                        </button>
                        <button class="answer-btn" data-correct="false" onclick="checkAnswer(this, 3)">
                            <span class="answer-icon">C</span>
                            –ë—É–¥—å-–¥–µ, –≥–æ–ª–æ–≤–Ω–µ ‚Äî –Ω–∞ –≤–∏—Å–æ—Ç—ñ
                        </button>
                    </div>
                </div>
                
                <div class="question-card">
                    <h3 style="color: var(--kid-blue);">
                        <i class="fas fa-question-circle"></i> –ó–∞–ø–∏—Ç–∞–Ω–Ω—è 4: –©–æ —Ç–∞–∫–µ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–Ω–∞ –∞–º–ø–ª—ñ—Ç—É–¥–∞?
                    </h3>
                    <div class="answer-options">
                        <button class="answer-btn" data-correct="false" onclick="checkAnswer(this, 4)">
                            <span class="answer-icon">A</span>
                            –°–µ—Ä–µ–¥–Ω—è —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ –∑–∞ –º—ñ—Å—è—Ü—å
                        </button>
                        <button class="answer-btn" data-correct="true" onclick="checkAnswer(this, 4)">
                            <span class="answer-icon">B</span>
                            –†—ñ–∑–Ω–∏—Ü—è –º—ñ–∂ –Ω–∞–π–≤–∏—â–æ—é —ñ –Ω–∞–π–Ω–∏–∂—á–æ—é —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–æ—é
                        </button>
                        <button class="answer-btn" data-correct="false" onclick="checkAnswer(this, 4)">
                            <span class="answer-icon">C</span>
                            –¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ –≤–Ω–æ—á—ñ
                        </button>
                    </div>
                </div>
                
                <div style="text-align: center; margin-top: 40px;">
                    <button class="btn-primary" onclick="checkAllAnswers()" 
                            style="background: linear-gradient(145deg, var(--kid-pink), var(--kid-purple)); padding: 20px 40px; font-size: 22px;">
                        <i class="fas fa-check-double"></i> –ü–ï–†–ï–í–Ü–†–ò–¢–ò –í–Ü–î–ü–û–í–Ü–î–Ü
                    </button>
                    
                    <div id="quizResult" style="display: none; margin-top: 30px;">
                        <div class="message success" id="resultMessage"></div>
                    </div>
                </div>
            </div>
            
            <!-- –ö–Ω–æ–ø–∫–∏ –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—è -->
            <div style="text-align: center; margin: 50px 0;">
                <button class="btn-primary" id="nextButton" onclick="completeLesson()" 
                        style="background: linear-gradient(145deg, var(--kid-green), var(--kid-blue)); 
                               padding: 25px 50px; font-size: 24px; display: none;">
                    <i class="fas fa-trophy"></i> –ó–ê–í–ï–†–®–ò–¢–ò –£–†–û–ö –¢–ê –û–¢–†–ò–ú–ê–¢–ò –ù–ê–ì–û–†–û–î–£!
                </button>
            </div>
            
            <!-- –í—ñ–∫–Ω–æ –Ω–∞–≥–æ—Ä–æ–¥–∏ -->
            <div class="reward-badge" id="rewardBadge">
                <h2 style="color: #000; margin-bottom: 20px;">
                    <i class="fas fa-medal"></i> –í–Ü–¢–ê–Ñ–ú–û, –î–û–°–õ–Ü–î–ù–ò–ö–£!
                </h2>
                <div class="badge-stars" id="badgeStars">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ</div>
                <p style="font-size: 20px; margin-bottom: 20px; color: #000;">
                    –¢–∏ —É—Å–ø—ñ—à–Ω–æ –∑–∞–≤–µ—Ä—à–∏–≤ –º—ñ—Å—ñ—é "–¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ –ø–æ–≤—ñ—Ç—Ä—è"!
                </p>
                <div style="font-size: 28px; color: #000; margin: 20px 0;">
                    üèÜ +<span id="pointsEarned">50</span> –∑–Ω–∞–Ω—å-–∫—Ä–∏—Å—Ç–∞–ª—ñ–≤
                </div>
                <p style="margin-bottom: 30px; color: #000;">
                    –¢–≤—ñ–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç –±—É–¥–µ –≤–∏–¥–Ω–æ –≤—á–∏—Ç–µ–ª—é –≤ —Ç–∞–±–ª–∏—Ü—ñ —É—Å–ø—ñ—à–Ω–æ—Å—Ç—ñ!
                </p>
                <div style="display: flex; gap: 20px; justify-content: center;">
                    <a href="page2.html" class="btn-primary" style="background: linear-gradient(145deg, var(--kid-orange), var(--kid-yellow));">
                        <i class="fas fa-arrow-right"></i> –ù–∞—Å—Ç—É–ø–Ω–∞ –º—ñ—Å—ñ—è
                    </a>
                    <a href="index.html" class="btn-secondary" 
                       style="background: rgba(0,0,0,0.2); color: white; border: 2px solid white;">
                        <i class="fas fa-chart-line"></i> –ü–µ—Ä–µ–≥–ª—è–Ω—É—Ç–∏ –ø—Ä–æ–≥—Ä–µ—Å
                    </a>
                </div>
            </div>
        </div>
    </div>

    <script>
        // –ö–æ–Ω—Å—Ç–∞–Ω—Ç–∏ —Ç–∞ –≥–ª–æ–±–∞–ª—å–Ω—ñ –∑–º—ñ–Ω–Ω—ñ
        const SHEET_URL = 'https://script.google.com/macros/s/AKfycbx1ok9gz_71vNK7NyDXlGrhkw4QcaDwBsggtJ_7eqE_XRZw_9PLiqPFn-SnpWx9yh3kFA/exec';
        
        let userData = {};
        let correctAnswers = 0;
        let totalQuestions = 4;
        let currentSunPosition = 200; // –ø–æ—á–∞—Ç–∫–æ–≤–∞ –ø–æ–∑–∏—Ü—ñ—è —Å–æ–Ω—Ü—è
        let isDragging = false;
        let completedTasks = {
            experiment1: false,
            experiment2: false,
            experiment3: false
        };
        
        // –Ü–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è
        document.addEventListener('DOMContentLoaded', function() {
            loadUserData();
            initializeSimulation();
            createStars();
            updateTemperatures();
            initializeTimeButtons();
            createSparkles();
        });
        
        // –ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –¥–∞–Ω–∏—Ö –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞
        function loadUserData() {
            const saved = localStorage.getItem('atmosphereUser');
            if (!saved) {
                alert('–ü—Ä–∏–≤—ñ—Ç! –°–ø–æ—á–∞—Ç–∫—É –∑–∞—Ä–µ—î—Å—Ç—Ä—É–π—Å—è –Ω–∞ –≥–æ–ª–æ–≤–Ω—ñ–π —Å—Ç–æ—Ä—ñ–Ω—Ü—ñ! üöÄ');
                window.location.href = 'index.html';
                return;
            }
            
            userData = JSON.parse(saved);
            document.getElementById('userName').textContent = `–ü—Ä–∏–≤—ñ—Ç, ${userData.name}!`;
            document.getElementById('userClass').textContent = `${userData.class} –∫–ª–∞—Å - –º–µ—Ç–µ–æ—Ä–æ–ª–æ–≥`;
            
            // –û–Ω–æ–≤–ª—é—î–º–æ –±–∞–ª–∏
            updatePointsDisplay();
            
            // –ó–∞–≤–∞–Ω—Ç–∞–∂—É—î–º–æ –ø—Ä–æ–≥—Ä–µ—Å
            loadProgress();
        }
        
        // –û–Ω–æ–≤–ª–µ–Ω–Ω—è –≤—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–Ω—è –±–∞–ª—ñ–≤
        function updatePointsDisplay() {
            let totalPoints = 0;
            if (userData.scores) {
                Object.values(userData.scores).forEach(points => {
                    totalPoints += points;
                });
            }
            document.getElementById('totalPoints').textContent = totalPoints;
        }
        
        // –ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –ø—Ä–æ–≥—Ä–µ—Å—É
        function loadProgress() {
            const progress = JSON.parse(localStorage.getItem('temperatureProgress') || '{}');
            completedTasks = { ...completedTasks, ...progress };
            
            // –û–Ω–æ–≤–ª—é—î–º–æ —ñ–∫–æ–Ω–∫–∏ –ø—Ä–æ–≥—Ä–µ—Å—É
            if (completedTasks.experiment1) {
                document.getElementById('exp1').textContent = '‚úÖ';
                document.getElementById('exp1').parentElement.classList.add('completed');
            }
            if (completedTasks.experiment2) {
                document.getElementById('exp2').textContent = '‚úÖ';
                document.getElementById('exp2').parentElement.classList.add('completed');
            }
            if (completedTasks.experiment3) {
                document.getElementById('exp3').textContent = '‚úÖ';
                document.getElementById('exp3').parentElement.classList.add('completed');
            }
        }
        
        // –°—Ç–≤–æ—Ä–µ–Ω–Ω—è –∑—ñ—Ä–æ—á–æ–∫
        function createStars() {
            const simulation = document.getElementById('simulation');
            const sky = simulation.querySelector('.sky');
            
            for (let i = 0; i < 30; i++) {
                const star = document.createElement('div');
                star.className = 'sparkle';
                star.style.left = Math.random() * 100 + '%';
                star.style.top = Math.random() * 50 + '%';
                star.style.animationDelay = Math.random() * 2 + 's';
                sky.appendChild(star);
            }
        }
        
        // –°—Ç–≤–æ—Ä–µ–Ω–Ω—è —ñ—Å–∫—Ä–æ–∫
        function createSparkles() {
            setInterval(() => {
                const sparkle = document.createElement('div');
                sparkle.className = 'sparkle';
                sparkle.style.left = Math.random() * 100 + 'vw';
                sparkle.style.top = Math.random() * 100 + 'vh';
                document.body.appendChild(sparkle);
                
                setTimeout(() => sparkle.remove(), 1000);
            }, 500);
        }
        
        // –Ü–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è —Å–∏–º—É–ª—è—Ü—ñ—ó
        function initializeSimulation() {
            const sun = document.getElementById('sun');
            const simulation = document.getElementById('simulation');
            
            // –î–µ—Å–∫—Ç–æ–ø–Ω—ñ –ø–æ–¥—ñ—ó
            sun.addEventListener('mousedown', startDrag);
            document.addEventListener('mousemove', dragSun);
            document.addEventListener('mouseup', stopDrag);
            
            // –ú–æ–±—ñ–ª—å–Ω—ñ –ø–æ–¥—ñ—ó
            sun.addEventListener('touchstart', startDragTouch);
            document.addEventListener('touchmove', dragSunTouch);
            document.addEventListener('touchend', stopDrag);
            
            sun.style.cursor = 'grab';
            
            // –ü–æ–∑–Ω–∞—á–∞—î–º–æ –ø–µ—Ä—à–∏–π –µ–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç —è–∫ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–π
            simulation.addEventListener('mousedown', () => {
                if (!completedTasks.experiment1) {
                    completedTasks.experiment1 = true;
                    localStorage.setItem('temperatureProgress', JSON.stringify(completedTasks));
                    document.getElementById('exp1').textContent = '‚úÖ';
                    document.getElementById('exp1').parentElement.classList.add('completed');
                    showMiniReward('–ü–µ—Ä—à–∏–π –µ–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç –∑–∞–≤–µ—Ä—à–µ–Ω–æ!');
                }
            });
        }
        
        // –§—É–Ω–∫—Ü—ñ—ó –ø–µ—Ä–µ—Ç—è–≥—É–≤–∞–Ω–Ω—è
        function startDrag(e) {
            isDragging = true;
            e.preventDefault();
            document.getElementById('sun').style.cursor = 'grabbing';
        }
        
        function startDragTouch(e) {
            isDragging = true;
            e.preventDefault();
        }
        
        function dragSun(e) {
            if (!isDragging) return;
            
            const sun = document.getElementById('sun');
            const container = document.querySelector('.main-simulation');
            const containerRect = container.getBoundingClientRect();
            
            let y = e.clientY - containerRect.top;
            y = Math.max(50, Math.min(y, containerRect.height * 0.7 - 50));
            
            currentSunPosition = y;
            sun.style.top = y + 'px';
            updateTemperatures();
        }
        
        function dragSunTouch(e) {
            if (!isDragging || !e.touches[0]) return;
            
            const sun = document.getElementById('sun');
            const container = document.querySelector('.main-simulation');
            const containerRect = container.getBoundingClientRect();
            
            let y = e.touches[0].clientY - containerRect.top;
            y = Math.max(50, Math.min(y, containerRect.height * 0.7 - 50));
            
            currentSunPosition = y;
            sun.style.top = y + 'px';
            updateTemperatures();
        }
        
        function stopDrag() {
            isDragging = false;
            document.getElementById('sun').style.cursor = 'grab';
            
            // –ü–µ—Ä–µ–≤—ñ—Ä—è—î–º–æ –¥—Ä—É–≥–∏–π –µ–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç
            if (!completedTasks.experiment2 && currentSunPosition < 150) {
                completedTasks.experiment2 = true;
                localStorage.setItem('temperatureProgress', JSON.stringify(completedTasks));
                document.getElementById('exp2').textContent = '‚úÖ';
                document.getElementById('exp2').parentElement.classList.add('completed');
                showMiniReward('–í—ñ—Ç–∞—é! –¢–∏ –≤—ñ–¥–∫—Ä–∏–≤ –∑–∞–∫–æ–Ω–æ–º—ñ—Ä–Ω—ñ—Å—Ç—å!');
            }
        }
        
        // –û–Ω–æ–≤–ª–µ–Ω–Ω—è —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä
        function updateTemperatures() {
            const container = document.querySelector('.main-simulation');
            const containerHeight = container.clientHeight;
            
            // –¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ –∑–∞–ª–µ–∂–∏—Ç—å –≤—ñ–¥ –ø–æ–ª–æ–∂–µ–Ω–Ω—è —Å–æ–Ω—Ü—è
            const baseTemp = 15 + ((containerHeight * 0.7 - currentSunPosition) / containerHeight * 0.7) * 20;
            
            // –û–Ω–æ–≤–ª—é—î–º–æ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∏ –Ω–∞ —Ä—ñ–∑–Ω–∏—Ö –≤–∏—Å–æ—Ç–∞—Ö
            const heights = [0, 1000, 2000, 3000]; // –º–µ—Ç—Ä–∏
            heights.forEach((height, index) => {
                // –ù–∞ –∫–æ–∂–Ω–∏–π –∫—ñ–ª–æ–º–µ—Ç—Ä —Ö–æ–ª–æ–¥–Ω—ñ—à–∞—î –Ω–∞ 6¬∞C
                let temp = baseTemp - (height / 1000) * 6;
                temp = Math.round(temp);
                
                const mercury = document.getElementById(`mercury${index}`);
                const tempLabel = document.getElementById(`temp${index}`);
                
                // –û–Ω–æ–≤–ª—é—î–º–æ –≤–∏—Å–æ—Ç—É —Ä—Ç—É—Ç—ñ
                const mercuryHeight = Math.max(10, Math.min(100, ((temp + 20) / 50) * 100));
                mercury.style.height = mercuryHeight + '%';
                
                // –û–Ω–æ–≤–ª—é—î–º–æ –º—ñ—Ç–∫—É
                tempLabel.textContent = `${temp > 0 ? '+' : ''}${temp}¬∞C`;
                
                // –ó–º—ñ–Ω—é—î–º–æ –∫–æ–ª—ñ—Ä
                if (temp < 0) {
                    mercury.style.background = 'linear-gradient(to top, #00FFFF, #0088FF)';
                    tempLabel.style.color = '#00FFFF';
                } else if (temp < 10) {
                    mercury.style.background = 'linear-gradient(to top, #66FF99, #00CC66)';
                    tempLabel.style.color = '#66FF99';
                } else if (temp < 20) {
                    mercury.style.background = 'linear-gradient(to top, #FFCC00, #FF9900)';
                    tempLabel.style.color = '#FFCC00';
                } else {
                    mercury.style.background = 'linear-gradient(to top, #FF4500, #CC0000)';
                    tempLabel.style.color = '#FF4500';
                }
            });
        }
        
        // –Ü–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è –∫–Ω–æ–ø–æ–∫ —á–∞—Å—É
        function initializeTimeButtons() {
            const timeButtons = document.querySelectorAll('.time-btn');
            
            timeButtons.forEach(button => {
                button.addEventListener('click', function() {
                    timeButtons.forEach(btn => btn.classList.remove('active'));
                    this.classList.add('active');
                    
                    const time = parseInt(this.dataset.time);
                    setTimeOfDay(time);
                });
            });
        }
        
        // –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è —á–∞—Å—É –¥–æ–±–∏
        function setTimeOfDay(hour) {
            const times = {
                4: { sunY: 300, text: 'üåô –ù–∞–π—Ö–æ–ª–æ–¥–Ω—ñ—à–∏–π —á–∞—Å' },
                8: { sunY: 250, text: 'üåÖ –†–∞–Ω–æ–∫' },
                12: { sunY: 100, text: '‚òÄÔ∏è –ü–æ–ª—É–¥–µ–Ω—å' },
                15: { sunY: 120, text: 'üåû –ù–∞–π—Ç–µ–ø–ª—ñ—à–µ' },
                19: { sunY: 200, text: 'üåá –í–µ—á—ñ—Ä' },
                23: { sunY: 280, text: 'üåô –ù—ñ—á' }
            };
            
            if (times[hour]) {
                const sun = document.getElementById('sun');
                currentSunPosition = times[hour].sunY;
                sun.style.top = currentSunPosition + 'px';
                updateTemperatures();
            }
        }
        
        // –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ
        function checkAnswer(button, questionNum) {
            if (button.classList.contains('answered')) return;
            
            const isCorrect = button.dataset.correct === 'true';
            const question = button.closest('.question-card');
            const options = question.querySelectorAll('.answer-btn');
            
            // –ë–ª–æ–∫—É—î–º–æ –≤—Å—ñ –≤–∞—Ä—ñ–∞–Ω—Ç–∏
            options.forEach(opt => {
                opt.style.pointerEvents = 'none';
                if (opt.dataset.correct === 'true') {
                    opt.classList.add('correct');
                    createConfetti(opt);
                } else if (opt === button && !isCorrect) {
                    opt.classList.add('wrong');
                }
            });
            
            if (isCorrect) {
                correctAnswers++;
                button.classList.add('answered');
                createConfetti(button);
            }
            
            updateQuizProgress();
        }
        
        // –û–Ω–æ–≤–ª–µ–Ω–Ω—è –ø—Ä–æ–≥—Ä–µ—Å—É —Ç–µ—Å—Ç—É
        function updateQuizProgress() {
            if (correctAnswers === totalQuestions) {
                document.getElementById('nextButton').style.display = 'inline-block';
                
                // –ü–æ–∑–Ω–∞—á–∞—î–º–æ —Ç—Ä–µ—Ç—ñ–π –µ–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç —è–∫ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–π
                if (!completedTasks.experiment3) {
                    completedTasks.experiment3 = true;
                    localStorage.setItem('temperatureProgress', JSON.stringify(completedTasks));
                    document.getElementById('exp3').textContent = '‚úÖ';
                    document.getElementById('exp3').parentElement.classList.add('completed');
                }
            }
        }
        
        // –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –≤—Å—ñ—Ö –≤—ñ–¥–ø–æ–≤—ñ–¥–µ–π
        function checkAllAnswers() {
            const allQuestions = document.querySelectorAll('.question-card');
            let allAnswered = true;
            let answeredCount = 0;
            
            allQuestions.forEach(question => {
                const options = question.querySelectorAll('.answer-btn');
                const answered = Array.from(options).some(opt => 
                    opt.classList.contains('correct') || opt.classList.contains('wrong')
                );
                
                if (answered) answeredCount++;
                if (!answered) allAnswered = false;
            });
            
            const resultMessage = document.getElementById('resultMessage');
            const quizResult = document.getElementById('quizResult');
            
            if (!allAnswered) {
                resultMessage.innerHTML = `
                    <div style="color: var(--kid-yellow); font-size: 20px;">
                        <i class="fas fa-exclamation-triangle"></i> 
                        –©–µ –Ω–µ –≤—Å—ñ –ø–∏—Ç–∞–Ω–Ω—è –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ! 
                        <div style="font-size: 16px; margin-top: 10px;">
                            –í—ñ–¥–ø–æ–≤—ñ–≤ –Ω–∞ ${answeredCount} –∑ ${totalQuestions}
                        </div>
                    </div>
                `;
                quizResult.style.display = 'block';
            } else {
                let message = '';
                let stars = '';
                
                if (correctAnswers === totalQuestions) {
                    message = '–í–Ü–î–ú–Ü–ù–ù–û! –¢–∏ –º–∞–π—Å—Ç–µ—Ä –º–µ—Ç–µ–æ—Ä–æ–ª–æ–≥—ñ—ó! üèÜ';
                    stars = '‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ';
                    createConfettiBurst();
                } else if (correctAnswers >= 2) {
                    message = '–î–£–ñ–ï –î–û–ë–†–ï! –ú–∞–π–∂–µ –≤—Å–µ –∑–Ω–∞—î—à! üëç';
                    stars = '‚òÖ‚òÖ‚òÖ‚òÜ‚òÜ';
                } else {
                    message = '–ù–ï–ü–û–ì–ê–ù–û! –°–ø—Ä–æ–±—É–π —â–µ —Ä–∞–∑! üí™';
                    stars = '‚òÖ‚òÜ‚òÜ‚òÜ‚òÜ';
                }
                
                resultMessage.innerHTML = `
                    <div style="font-size: 22px; color: var(--kid-green);">
                        <i class="fas fa-trophy"></i> ${message}
                        <div style="font-size: 40px; color: gold; margin: 15px 0;">${stars}</div>
                        <div style="font-size: 18px;">
                            –ü—Ä–∞–≤–∏–ª—å–Ω–∏—Ö –≤—ñ–¥–ø–æ–≤—ñ–¥–µ–π: ${correctAnswers} –∑ ${totalQuestions}
                        </div>
                    </div>
                `;
                quizResult.style.display = 'block';
                
                // –ü—Ä–æ–∫—Ä—É—á—É—î–º–æ –¥–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ñ–≤
                quizResult.scrollIntoView({ behavior: 'smooth' });
            }
        }
        
        // –ó–∞–≤–µ—Ä—à–µ–Ω–Ω—è —É—Ä–æ–∫—É
        async function completeLesson() {
            // –†–æ–∑—Ä–∞—Ö–æ–≤—É—î–º–æ –±–∞–ª–∏
            let points = 0;
            let stars = 0;
            
            if (correctAnswers === totalQuestions) {
                points = 50;
                stars = 5;
            } else if (correctAnswers >= 3) {
                points = 40;
                stars = 4;
            } else if (correctAnswers >= 2) {
                points = 30;
                stars = 3;
            } else {
                points = 20;
                stars = 2;
            }
            
            // –î–æ–¥–∞—î–º–æ –±–æ–Ω—É—Å –∑–∞ –≤—Å—ñ –µ–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∏
            if (completedTasks.experiment1 && completedTasks.experiment2 && completedTasks.experiment3) {
                points += 20;
                stars = Math.min(5, stars + 1);
            }
            
            try {
                // –í—ñ–¥–ø—Ä–∞–≤–ª—è—î–º–æ –Ω–∞ —Å–µ—Ä–≤–µ—Ä
                const response = await fetch(SHEET_URL, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({
                        name: userData.name,
                        class: userData.class,
                        theme: '–¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞',
                        points: points
                    })
                });
                
                const result = await response.json();
                
                if (result.status === 'success') {
                    // –û–Ω–æ–≤–ª—é—î–º–æ –ª–æ–∫–∞–ª—å–Ω—ñ –¥–∞–Ω—ñ
                    if (!userData.scores) userData.scores = {};
                    userData.scores.temperature = (userData.scores.temperature || 0) + points;
                    localStorage.setItem('atmosphereUser', JSON.stringify(userData));
                    
                    // –ü–æ–∫–∞–∑—É—î–º–æ –Ω–∞–≥–æ—Ä–æ–¥—É
                    showReward(points, stars);
                }
            } catch (error) {
                console.error('–ü–æ–º–∏–ª–∫–∞:', error);
                // –õ–æ–∫–∞–ª—å–Ω–µ –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è
                if (!userData.scores) userData.scores = {};
                userData.scores.temperature = (userData.scores.temperature || 0) + points;
                localStorage.setItem('atmosphereUser', JSON.stringify(userData));
                
                showReward(points, stars);
            }
        }
        
        // –ü–æ–∫–∞–∑ –Ω–∞–≥–æ—Ä–æ–¥–∏
        function showReward(points, stars) {
            document.getElementById('pointsEarned').textContent = points;
            document.getElementById('badgeStars').textContent = '‚òÖ'.repeat(stars) + '‚òÜ'.repeat(5 - stars);
            document.getElementById('rewardBadge').style.display = 'block';
            
            // –í–µ–ª–∏–∫–∏–π –≤–∏–±—É—Ö –∫–æ–Ω—Ñ–µ—Ç—Ç—ñ
            createConfettiBurst();
            
            // –ó–±–µ—Ä—ñ–≥–∞—î–º–æ —Ñ–∞–∫—Ç –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—è
            const completed = JSON.parse(localStorage.getItem('completedLessons') || '[]');
            if (!completed.includes('temperature')) {
                completed.push('temperature');
                localStorage.setItem('completedLessons', JSON.stringify(completed));
            }
        }
        
        // –ú—ñ–Ω—ñ-–Ω–∞–≥–æ—Ä–æ–¥–∞
        function showMiniReward(text) {
            const miniReward = document.createElement('div');
            miniReward.style.cssText = `
                position: fixed;
                top: 20px;
                right: 20px;
                background: linear-gradient(145deg, var(--kid-green), var(--kid-blue));
                color: white;
                padding: 15px 25px;
                border-radius: 15px;
                z-index: 1000;
                animation: slideIn 0.5s;
                box-shadow: 0 5px 20px rgba(0,0,0,0.3);
            `;
            miniReward.innerHTML = `<i class="fas fa-star"></i> ${text}`;
            document.body.appendChild(miniReward);
            
            setTimeout(() => {
                miniReward.style.animation = 'slideIn 0.5s reverse';
                setTimeout(() => miniReward.remove(), 500);
            }, 3000);
        }
        
        // –°—Ç–≤–æ—Ä–µ–Ω–Ω—è –∫–æ–Ω—Ñ–µ—Ç—Ç—ñ
        function createConfetti(element) {
            for (let i = 0; i < 10; i++) {
                const confetti = document.createElement('div');
                confetti.className = 'confetti';
                confetti.style.left = (element.getBoundingClientRect().left + Math.random() * 100) + 'px';
                confetti.style.top = (element.getBoundingClientRect().top) + 'px';
                confetti.style.backgroundColor = [
                    '#FF9966', '#4DC3FF', '#66FF99', '#CC99FF', '#FFCC00'
                ][Math.floor(Math.random() * 5)];
                confetti.style.animationDuration = (Math.random() * 2 + 1) + 's';
                
                document.getElementById('confetti-container').appendChild(confetti);
                
                setTimeout(() => confetti.remove(), 2000);
            }
        }
        
        function createConfettiBurst() {
            for (let i = 0; i < 100; i++) {
                const confetti = document.createElement('div');
                confetti.className = 'confetti';
                confetti.style.left = Math.random() * 100 + 'vw';
                confetti.style.top = '0px';
                confetti.style.backgroundColor = [
                    '#FF9966', '#4DC3FF', '#66FF99', '#CC99FF', '#FFCC00'
                ][Math.floor(Math.random() * 5)];
                confetti.style.width = (Math.random() * 20 + 10) + 'px';
                confetti.style.height = confetti.style.width;
                confetti.style.borderRadius = Math.random() > 0.5 ? '50%' : '0';
                confetti.style.animationDuration = (Math.random() * 3 + 2) + 's';
                
                document.getElementById('confetti-container').appendChild(confetti);
                
                setTimeout(() => confetti.remove(), 5000);
            }
        }
    </script>
</body>
</html>
