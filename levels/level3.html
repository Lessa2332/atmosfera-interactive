<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–†—ñ–≤–µ–Ω—å 3: –í—ñ—Ç–µ—Ä | –ê—Ç–º–æ—Å—Ñ–µ—Ä–∞</title>
    <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;600;700;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        /* –ì–ª–æ–±–∞–ª—å–Ω—ñ —Å—Ç–∏–ª—ñ */
        :root {
            --primary: #0a192f;
            --secondary: #112240;
            --accent-cyan: #64ffda;
            --accent-lime: #39ff14;
            --accent-orange: #ff9500;
            --glass-bg: rgba(255, 255, 255, 0.05);
            --glass-border: rgba(255, 255, 255, 0.1);
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Nunito', sans-serif;
            background: linear-gradient(135deg, #0a192f 0%, #112240 100%);
            color: white;
            min-height: 100vh;
            padding: 20px;
        }
        
        .btn-primary, .btn-secondary {
            background: rgba(255, 255, 255, 0.1);
            border: 2px solid var(--accent-cyan);
            border-radius: 15px;
            padding: 12px 25px;
            color: white;
            font-size: 16px;
            cursor: pointer;
            transition: all 0.3s;
            font-family: 'Nunito', sans-serif;
            font-weight: 600;
        }
        
        .btn-primary {
            background: linear-gradient(135deg, var(--accent-cyan), var(--accent-lime));
            color: var(--primary);
        }
        
        .btn-primary:hover {
            transform: scale(1.05);
            box-shadow: 0 5px 20px rgba(100, 255, 218, 0.4);
        }
        
        .btn-secondary:hover {
            background: rgba(0, 255, 255, 0.2);
            transform: scale(1.05);
        }
        
        .game-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 20px;
            background: var(--glass-bg);
            border-radius: 20px;
            border: 2px solid var(--glass-border);
            margin-bottom: 30px;
            backdrop-filter: blur(10px);
        }
        
        .header-left {
            display: flex;
            align-items: center;
            gap: 20px;
        }
        
        .back-btn {
            color: var(--accent-cyan);
            font-size: 24px;
            text-decoration: none;
            transition: transform 0.3s;
        }
        
        .back-btn:hover {
            transform: translateX(-5px);
        }
        
        .player-info .username {
            font-size: 24px;
            font-weight: 900;
            color: var(--accent-cyan);
        }
        
        .player-info .player-class {
            font-size: 14px;
            opacity: 0.8;
        }
        
        .stats {
            display: flex;
            gap: 30px;
        }
        
        .stat-item {
            display: flex;
            align-items: center;
            gap: 10px;
            font-size: 20px;
            font-weight: 700;
        }
        
        .stat-item i {
            color: var(--accent-orange);
        }
        
        /* –°—Ç–∏–ª—ñ —Ä—ñ–≤–Ω—è */
        .level-container {
            max-width: 1000px;
            margin: 0 auto;
            padding: 20px;
        }
        
        .level-header {
            text-align: center;
            padding: 30px;
            background: linear-gradient(135deg, rgba(57, 255, 20, 0.1), rgba(0, 255, 255, 0.1));
            border-radius: 25px;
            border: 2px solid var(--accent-lime);
            margin-bottom: 30px;
        }
        
        .level-icon {
            font-size: 60px;
            margin-bottom: 15px;
            animation: float 3s ease-in-out infinite;
        }
        
        @keyframes float {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-15px); }
        }
        
        .level-title {
            font-size: 36px;
            color: var(--accent-lime);
            margin-bottom: 10px;
        }
        
        .hero-subtitle {
            font-size: 18px;
            opacity: 0.9;
            max-width: 600px;
            margin: 0 auto;
        }
        
        /* –Ü–≥—Ä–æ–≤—ñ –∑–æ–Ω–∏ */
        .game-areas {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 25px;
            margin: 30px 0;
        }
        
        .game-zone {
            background: var(--glass-bg);
            border-radius: 20px;
            padding: 25px;
            border: 2px solid var(--glass-border);
            transition: all 0.3s;
        }
        
        .game-zone:hover {
            border-color: var(--accent-cyan);
            box-shadow: 0 10px 30px rgba(0, 255, 255, 0.2);
        }
        
        .zone-title {
            font-size: 22px;
            color: var(--accent-cyan);
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        /* –ê–Ω—ñ–º–∞—Ü—ñ—è –≤—ñ—Ç—Ä—É */
        .wind-animation-container {
            height: 200px;
            position: relative;
            overflow: hidden;
            background: linear-gradient(to bottom, #87CEEB, #E0F6FF);
            border-radius: 15px;
            margin: 20px 0;
        }
        
        .wind-particle {
            position: absolute;
            background: white;
            border-radius: 50%;
            opacity: 0.7;
            animation: windFlow linear infinite;
        }
        
        .wind-direction {
            position: absolute;
            width: 100%;
            height: 2px;
            background: rgba(255, 0, 0, 0.5);
            top: 50%;
            transform-origin: left center;
        }
        
        @keyframes windFlow {
            to { transform: translateX(100vw); }
        }
        
        /* –Ü–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ñ –µ–ª–µ–º–µ–Ω—Ç–∏ */
        .wind-controls {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 15px;
            margin: 20px 0;
        }
        
        .wind-btn {
            background: rgba(255, 255, 255, 0.1);
            border: 2px solid var(--accent-cyan);
            border-radius: 15px;
            padding: 15px;
            color: white;
            font-size: 18px;
            cursor: pointer;
            transition: all 0.3s;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 10px;
            font-family: 'Nunito', sans-serif;
        }
        
        .wind-btn:hover {
            background: rgba(0, 255, 255, 0.2);
            transform: scale(1.05);
        }
        
        .wind-btn.active {
            background: rgba(57, 255, 20, 0.3);
            border-color: var(--accent-lime);
        }
        
        /* –§–ª—é–≥–µ—Ä */
        .weather-vane {
            width: 200px;
            height: 200px;
            margin: 20px auto;
            position: relative;
        }
        
        .vane-base {
            width: 20px;
            height: 100px;
            background: #8B4513;
            margin: 0 auto;
            border-radius: 10px;
        }
        
        .vane-arrow {
            position: absolute;
            top: 30px;
            left: 50%;
            width: 0;
            height: 0;
            border-left: 60px solid transparent;
            border-right: 60px solid transparent;
            border-bottom: 100px solid #FF4444;
            transform-origin: 50% 100%;
            transform: translateX(-50%) rotate(var(--vane-rotation, 0deg));
            transition: transform 1s ease;
        }
        
        .vane-tail {
            position: absolute;
            top: 130px;
            left: 50%;
            width: 120px;
            height: 40px;
            background: #FF9500;
            transform: translateX(-50%);
            border-radius: 20px;
        }
        
        /* –í–∏–º—ñ—Ä—é–≤–∞–ª—å–Ω—ñ –ø—Ä–∏–ª–∞–¥–∏ */
        .measurement-panel {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }
        
        .measurement-card {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 15px;
            padding: 15px;
            text-align: center;
            border: 1px solid var(--glass-border);
        }
        
        .measurement-value {
            font-size: 32px;
            font-weight: 900;
            color: var(--accent-cyan);
            margin: 10px 0;
        }
        
        .measurement-unit {
            font-size: 14px;
            opacity: 0.7;
        }
        
        /* –ó–∞–≤–¥–∞–Ω–Ω—è */
        .task-container {
            background: linear-gradient(135deg, rgba(255, 149, 0, 0.1), rgba(0, 255, 255, 0.05));
            border-radius: 20px;
            padding: 25px;
            border: 2px solid var(--accent-orange);
            margin: 30px 0;
        }
        
        .task-title {
            color: var(--accent-orange);
            font-size: 24px;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .task-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }
        
        .task-item {
            background: rgba(255, 255, 255, 0.08);
            border-radius: 15px;
            padding: 15px;
            cursor: pointer;
            transition: all 0.3s;
            border: 2px solid transparent;
        }
        
        .task-item:hover {
            border-color: var(--accent-cyan);
            transform: translateY(-3px);
        }
        
        .task-item.selected {
            background: rgba(57, 255, 20, 0.2);
            border-color: var(--accent-lime);
        }
        
        /* –¢–∞–π–º–µ—Ä —Ç–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∏ */
        .level-stats {
            display: flex;
            justify-content: space-between;
            background: rgba(255, 255, 255, 0.05);
            padding: 20px;
            border-radius: 20px;
            margin: 25px 0;
            border: 1px solid var(--glass-border);
        }
        
        .stat-item {
            text-align: center;
            flex: 1;
        }
        
        .stat-value {
            font-size: 32px;
            font-weight: 900;
            color: var(--accent-lime);
        }
        
        .stat-label {
            font-size: 14px;
            opacity: 0.8;
        }
        
        .timer-display {
            font-size: 36px;
            font-weight: 900;
            color: var(--accent-orange);
            text-align: center;
            margin: 20px 0;
            padding: 15px;
            background: rgba(255, 149, 0, 0.1);
            border-radius: 15px;
            border: 2px solid var(--accent-orange);
        }
        
        /* –†–µ–∑—É–ª—å—Ç–∞—Ç–∏ */
        .result-screen {
            text-align: center;
            padding: 40px;
            display: none;
            animation: fadeIn 0.5s ease;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .result-emoji {
            font-size: 80px;
            margin-bottom: 20px;
            animation: bounce 2s infinite;
        }
        
        @keyframes bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-20px); }
        }
        
        .result-score {
            font-size: 48px;
            font-weight: 900;
            color: var(--accent-cyan);
            margin: 20px 0;
        }
        
        /* –ü–æ–ø–µ—Ä–µ–¥–∂–µ–Ω–Ω—è –ø—Ä–æ —à—Ç–æ—Ä–º */
        .storm-warning {
            background: linear-gradient(45deg, #FF4444, #FF9500);
            color: white;
            padding: 15px;
            border-radius: 15px;
            text-align: center;
            margin: 20px 0;
            animation: pulse 2s infinite;
            display: none;
        }
        
        @keyframes pulse {
            0%, 100% { opacity: 0.8; }
            50% { opacity: 1; }
        }
        
        /* –ï—Ñ–µ–∫—Ç–∏ –≤—ñ—Ç—Ä—É */
        .wind-effect-mild .wind-particle {
            width: 5px;
            height: 5px;
            animation-duration: 10s;
        }
        
        .wind-effect-moderate .wind-particle {
            width: 8px;
            height: 8px;
            animation-duration: 5s;
        }
        
        .wind-effect-strong .wind-particle {
            width: 12px;
            height: 12px;
            animation-duration: 2s;
        }
        
        /* –ê–¥–∞–ø—Ç–∏–≤–Ω—ñ—Å—Ç—å */
        @media (max-width: 768px) {
            .game-areas {
                grid-template-columns: 1fr;
            }
            
            .wind-controls {
                grid-template-columns: 1fr;
            }
            
            .level-title {
                font-size: 28px;
            }
            
            .zone-title {
                font-size: 20px;
            }
            
            .weather-vane {
                width: 150px;
                height: 150px;
            }
            
            .vane-arrow {
                border-left: 40px solid transparent;
                border-right: 40px solid transparent;
                border-bottom: 70px solid #FF4444;
            }
            
            .stats {
                flex-direction: column;
                gap: 10px;
            }
            
            .game-header {
                flex-direction: column;
                gap: 20px;
                text-align: center;
            }
        }
    </style>
</head>
<body>
    <!-- –•–µ–¥–µ—Ä —Ä—ñ–≤–Ω—è -->
    <header class="game-header">
        <div class="header-left">
            <a href="#" class="back-btn" onclick="goBack()">
                <i class="fas fa-arrow-left"></i>
            </a>
            <div class="player-info">
                <div class="username">üå¨Ô∏è –í—ñ—Ç–µ—Ä</div>
                <div class="player-class">–†—ñ–≤–µ–Ω—å 3</div>
            </div>
        </div>
        <div class="stats">
            <div class="stat-item">
                <i class="fas fa-clock"></i>
                <span id="global-timer">04:00</span>
            </div>
            <div class="stat-item">
                <i class="fas fa-star"></i>
                <span id="global-score">0/12</span>
            </div>
        </div>
    </header>
    
    <!-- –û—Å–Ω–æ–≤–Ω–∏–π –∫–æ–Ω—Ç–µ–Ω—Ç -->
    <main class="level-container">
        <!-- –ó–∞–≥–æ–ª–æ–≤–æ–∫ —Ä—ñ–≤–Ω—è -->
        <section class="level-header">
            <div class="level-icon">üå¨Ô∏è</div>
            <h1 class="level-title">–ú–ê–ô–°–¢–ï–† –í–Ü–¢–†–£</h1>
            <p class="hero-subtitle">–í–∏–≤—á–∏ —Å–∏–ª–∏ –≤—ñ—Ç—Ä—É, –Ω–∞–ø—Ä—è–º–∫–∏ —Ç–∞ –≤–ø–ª–∏–≤ –Ω–∞ –ø–æ–≥–æ–¥—É</p>
        </section>
        
        <!-- –Ü–≥—Ä–æ–≤—ñ –∑–æ–Ω–∏ -->
        <div class="game-areas">
            <!-- –ó–æ–Ω–∞ 1: –í–∏–º—ñ—Ä—é–≤–∞–Ω–Ω—è –≤—ñ—Ç—Ä—É -->
            <div class="game-zone">
                <h3 class="zone-title"><i class="fas fa-wind"></i> –í–ò–ú–Ü–†–Æ–í–ê–ù–ù–Ø –í–Ü–¢–†–£</h3>
                
                <div class="measurement-panel">
                    <div class="measurement-card">
                        <div class="measurement-value" id="wind-speed">0</div>
                        <div class="measurement-unit">–º/—Å</div>
                        <div>–®–≤–∏–¥–∫—ñ—Å—Ç—å –≤—ñ—Ç—Ä—É</div>
                    </div>
                    
                    <div class="measurement-card">
                        <div class="measurement-value" id="wind-force">0</div>
                        <div class="measurement-unit">–±–∞–ª—ñ–≤</div>
                        <div>–°–∏–ª–∞ –≤—ñ—Ç—Ä—É (—à–∫–∞–ª–∞ –ë–æ—Ñ–æ—Ä—Ç–∞)</div>
                    </div>
                    
                    <div class="measurement-card">
                        <div class="measurement-value" id="wind-direction">–ü–Ω</div>
                        <div class="measurement-unit">–Ω–∞–ø—Ä—è–º–æ–∫</div>
                        <div>–ù–∞–ø—Ä—è–º–æ–∫ –≤—ñ—Ç—Ä—É</div>
                    </div>
                </div>
                
                <div class="wind-animation-container" id="windAnimation">
                    <!-- –ß–∞—Å—Ç–∏–Ω–∫–∏ –≤—ñ—Ç—Ä—É –≥–µ–Ω–µ—Ä—É—é—Ç—å—Å—è —á–µ—Ä–µ–∑ JS -->
                </div>
                
                <div class="wind-controls">
                    <button class="wind-btn" onclick="setWindSpeed(2, 'mild')">
                        <i class="fas fa-feather"></i>
                        <span>–õ–µ–≥–∫–∏–π –≤—ñ—Ç–µ—Ä</span>
                        <small>2-3 –º/—Å</small>
                    </button>
                    
                    <button class="wind-btn" onclick="setWindSpeed(6, 'moderate')">
                        <i class="fas fa-leaf"></i>
                        <span>–ü–æ–º—ñ—Ä–Ω–∏–π –≤—ñ—Ç–µ—Ä</span>
                        <small>5-7 –º/—Å</small>
                    </button>
                    
                    <button class="wind-btn" onclick="setWindSpeed(12, 'strong')">
                        <i class="fas fa-cloud-meatball"></i>
                        <span>–°–∏–ª—å–Ω–∏–π –≤—ñ—Ç–µ—Ä</span>
                        <small>10-14 –º/—Å</small>
                    </button>
                </div>
            </div>
            
            <!-- –ó–æ–Ω–∞ 2: –§–ª—é–≥–µ—Ä —Ç–∞ –Ω–∞–ø—Ä—è–º–∫–∏ -->
            <div class="game-zone">
                <h3 class="zone-title"><i class="fas fa-compass"></i> –§–õ–Æ–ì–ï–† –¢–ê –ù–ê–ü–†–Ø–ú–ö–ò</h3>
                
                <div class="weather-vane">
                    <div class="vane-arrow" id="vaneArrow"></div>
                    <div class="vane-tail"></div>
                    <div class="vane-base"></div>
                </div>
                
                <div style="text-align: center; margin: 20px 0;">
                    <p>–ù–∞–ø—Ä—è–º–æ–∫ –≤—ñ—Ç—Ä—É: <strong id="currentDirection">–ü—ñ–≤–Ω—ñ—á–Ω–∏–π</strong></p>
                    <p>–§–ª—é–≥–µ—Ä –ø–æ–∫–∞–∑—É—î –Ω–∞–ø—Ä—è–º–æ–∫, <strong>–∑ —è–∫–æ–≥–æ</strong> –¥–º–µ –≤—ñ—Ç–µ—Ä</p>
                </div>
                
                <div class="wind-controls">
                    <button class="wind-btn" onclick="setWindDirection('N')">
                        <i class="fas fa-arrow-up"></i>
                        <span>–ü—ñ–≤–Ω—ñ—á</span>
                    </button>
                    
                    <button class="wind-btn" onclick="setWindDirection('E')">
                        <i class="fas fa-arrow-right"></i>
                        <span>–°—Ö—ñ–¥</span>
                    </button>
                    
                    <button class="wind-btn" onclick="setWindDirection('W')">
                        <i class="fas fa-arrow-left"></i>
                        <span>–ó–∞—Ö—ñ–¥</span>
                    </button>
                    
                    <button class="wind-btn" onclick="setWindDirection('S')">
                        <i class="fas fa-arrow-down"></i>
                        <span>–ü—ñ–≤–¥–µ–Ω—å</span>
                    </button>
                </div>
            </div>
        </div>
        
        <!-- –ü–æ–ø–µ—Ä–µ–¥–∂–µ–Ω–Ω—è –ø—Ä–æ —à—Ç–æ—Ä–º -->
        <div class="storm-warning" id="stormWarning">
            <i class="fas fa-exclamation-triangle"></i>
            <strong>–®–¢–û–†–ú–û–í–ï –ü–û–ü–ï–†–ï–î–ñ–ï–ù–ù–Ø!</strong> –°–∏–ª–∞ –≤—ñ—Ç—Ä—É –ø–æ–Ω–∞–¥ 15 –º/—Å. –ë—É–¥—å—Ç–µ –æ–±–µ—Ä–µ–∂–Ω—ñ!
        </div>
        
        <!-- –ó–∞–≤–¥–∞–Ω–Ω—è 1: –í–∏–∑–Ω–∞—á–µ–Ω–Ω—è —Ç–∏–ø—É –≤—ñ—Ç—Ä—É -->
        <div class="task-container">
            <h3 class="task-title"><i class="fas fa-question-circle"></i> –ó–ê–í–î–ê–ù–ù–Ø 1: –í–ò–ó–ù–ê–ß –¢–ò–ü –í–Ü–¢–†–£</h3>
            <p>–í—ñ—Ç–µ—Ä –∑—ñ —à–≤–∏–¥–∫—ñ—Å—Ç—é <strong>8 –º/—Å</strong> –¥–º–µ –∑ <strong>–ø—ñ–≤–Ω—ñ—á–Ω–æ–≥–æ –∑–∞—Ö–æ–¥—É</strong>. –Ø–∫ –Ω–∞–∑–∏–≤–∞—î—Ç—å—Å—è —Ç–∞–∫–∏–π –≤—ñ—Ç–µ—Ä —Ç–∞ —è–∫–∏–π –π–æ–≥–æ –≤–ø–ª–∏–≤ –Ω–∞ –ø–æ–≥–æ–¥—É?</p>
            
            <div class="task-grid">
                <div class="task-item" onclick="selectAnswer(1, this)">
                    <h4>–ë—Ä–∏–∑</h4>
                    <p>–õ–µ–≥–∫–∏–π –±–µ—Ä–µ–≥–æ–≤–∏–π –≤—ñ—Ç–µ—Ä, –º—ñ–Ω—è—î –Ω–∞–ø—Ä—è–º–æ–∫ –¥–≤—ñ—á—ñ –Ω–∞ –¥–µ–Ω—å</p>
                </div>
                
                <div class="task-item" onclick="selectAnswer(2, this)">
                    <h4>–ü–∞—Å–∞—Ç</h4>
                    <p>–ü–æ—Å—Ç—ñ–π–Ω–∏–π –≤—ñ—Ç–µ—Ä, —â–æ –¥–º–µ –≤—ñ–¥ —Ç—Ä–æ–ø—ñ–∫—ñ–≤ –¥–æ –µ–∫–≤–∞—Ç–æ—Ä–∞</p>
                </div>
                
                <div class="task-item" onclick="selectAnswer(3, this)">
                    <h4>–ü—ñ–≤–Ω—ñ—á–Ω–æ-–∑–∞—Ö—ñ–¥–Ω–∏–π</h4>
                    <p>–í—ñ—Ç–µ—Ä –ø–æ–º—ñ—Ä–Ω–æ—ó —Å–∏–ª–∏, –ø—Ä–∏–Ω–æ—Å–∏—Ç—å –ø—Ä–æ—Ö–æ–ª–æ–¥—É —Ç–∞ –æ–ø–∞–¥–∏</p>
                </div>
                
                <div class="task-item" onclick="selectAnswer(4, this)">
                    <h4>–ú—É—Å–æ–Ω</h4>
                    <p>–°–µ–∑–æ–Ω–Ω–∏–π –≤—ñ—Ç–µ—Ä, —â–æ –º—ñ–Ω—è—î –Ω–∞–ø—Ä—è–º–æ–∫ –¥–≤—ñ—á—ñ –Ω–∞ —Ä—ñ–∫</p>
                </div>
            </div>
        </div>
        
        <!-- –ó–∞–≤–¥–∞–Ω–Ω—è 2: –®–∫–∞–ª–∞ –ë–æ—Ñ–æ—Ä—Ç–∞ -->
        <div class="task-container">
            <h3 class="task-title"><i class="fas fa-chart-line"></i> –ó–ê–í–î–ê–ù–ù–Ø 2: –®–ö–ê–õ–ê –ë–û–§–û–†–¢–ê</h3>
            <p>–í—ñ—Ç–µ—Ä –∫–æ–ª–∏–≤–∞—î –≥—ñ–ª–∫–∏ –¥–µ—Ä–µ–≤, –≤–∏–¥–Ω–æ –ø—Ä–∞–ø–æ—Ä–∏, —â–æ —Ä–æ–∑–≤–∏–≤–∞—é—Ç—å—Å—è. –í–∏–∑–Ω–∞—á —Å–∏–ª—É –≤—ñ—Ç—Ä—É –∑–∞ —à–∫–∞–ª–æ—é –ë–æ—Ñ–æ—Ä—Ç–∞:</p>
            
            <div class="task-grid">
                <div class="task-item" onclick="selectAnswer(5, this)">
                    <h4>3 –±–∞–ª–∏</h4>
                    <p>–õ–µ–≥–∫–∏–π –≤—ñ—Ç–µ—Ä</p>
                </div>
                
                <div class="task-item" onclick="selectAnswer(6, this)">
                    <h4>5 –±–∞–ª—ñ–≤</h4>
                    <p>–ü–æ–º—ñ—Ä–Ω–∏–π –≤—ñ—Ç–µ—Ä</p>
                </div>
                
                <div class="task-item" onclick="selectAnswer(7, this)">
                    <h4>7 –±–∞–ª—ñ–≤</h4>
                    <p>–°–∏–ª—å–Ω–∏–π –≤—ñ—Ç–µ—Ä</p>
                </div>
                
                <div class="task-item" onclick="selectAnswer(8, this)">
                    <h4>9 –±–∞–ª—ñ–≤</h4>
                    <p>–®—Ç–æ—Ä–º–æ–≤–∏–π –≤—ñ—Ç–µ—Ä</p>
                </div>
            </div>
        </div>
        
        <!-- –ó–∞–≤–¥–∞–Ω–Ω—è 3: –í–ø–ª–∏–≤ –≤—ñ—Ç—Ä—É -->
        <div class="task-container">
            <h3 class="task-title"><i class="fas fa-cloud-sun"></i> –ó–ê–í–î–ê–ù–ù–Ø 3: –í–ü–õ–ò–í –ù–ê –ü–û–ì–û–î–£</h3>
            <p>–Ø–∫–∏–π –≤–ø–ª–∏–≤ –º–∞—î –ø—ñ–≤–¥–µ–Ω–Ω–∏–π –≤—ñ—Ç–µ—Ä –Ω–∞ –ø–æ–≥–æ–¥—É –≤ –£–∫—Ä–∞—ó–Ω—ñ?</p>
            
            <div class="task-grid">
                <div class="task-item" onclick="selectAnswer(9, this)">
                    <h4>–ü—Ä–∏–Ω–æ—Å–∏—Ç—å —Ç–µ–ø–ª–æ</h4>
                    <p>–ù–∞–≥—Ä—ñ–≤–∞—î –ø–æ–≤—ñ—Ç—Ä—è, —á–∞—Å—Ç–æ —Å—É—Ö–∏–π</p>
                </div>
                
                <div class="task-item" onclick="selectAnswer(10, this)">
                    <h4>–ü—Ä–∏–Ω–æ—Å–∏—Ç—å —Ö–æ–ª–æ–¥</h4>
                    <p>–û—Ö–æ–ª–æ–¥–∂—É—î, –º–æ–∂–µ –±—É—Ç–∏ –∑ –æ–ø–∞–¥–∞–º–∏</p>
                </div>
                
                <div class="task-item" onclick="selectAnswer(11, this)">
                    <h4>–ù–µ –≤–ø–ª–∏–≤–∞—î</h4>
                    <p>–¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ –Ω–µ –∑–º—ñ–Ω—é—î—Ç—å—Å—è</p>
                </div>
                
                <div class="task-item" onclick="selectAnswer(12, this)">
                    <h4>–í–∏–∫–ª–∏–∫–∞—î –ø–æ—Å—É—Ö—É</h4>
                    <p>–ó–º–µ–Ω—à—É—î –≤–æ–ª–æ–≥—ñ—Å—Ç—å –ø–æ–≤—ñ—Ç—Ä—è</p>
                </div>
            </div>
        </div>
        
        <!-- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Ä—ñ–≤–Ω—è -->
        <div class="level-stats">
            <div class="stat-item">
                <div class="stat-value" id="correctAnswers">0</div>
                <div class="stat-label">–ü—Ä–∞–≤–∏–ª—å–Ω–∏—Ö –≤—ñ–¥–ø–æ–≤—ñ–¥–µ–π</div>
            </div>
            
            <div class="stat-item">
                <div class="stat-value" id="currentScore">0</div>
                <div class="stat-label">–ë–∞–ª–∏</div>
            </div>
            
            <div class="stat-item">
                <div class="stat-value" id="questionsLeft">3</div>
                <div class="stat-label">–ó–∞–ª–∏—à–∏–ª–æ—Å—è –∑–∞–≤–¥–∞–Ω—å</div>
            </div>
        </div>
        
        <!-- –¢–∞–π–º–µ—Ä -->
        <div class="timer-display">
            <i class="fas fa-hourglass-half"></i>
            <span id="levelTimer">03:00</span>
        </div>
        
        <!-- –ö–µ—Ä—É–≤–∞–Ω–Ω—è –≥—Ä–æ—é -->
        <div style="display: flex; justify-content: center; gap: 20px; margin: 30px 0;">
            <button class="btn-secondary" onclick="skipTask()">
                <i class="fas fa-forward"></i> –ü—Ä–æ–ø—É—Å—Ç–∏—Ç–∏ –∑–∞–≤–¥–∞–Ω–Ω—è
            </button>
            
            <button class="btn-primary" onclick="checkAllAnswers()" id="checkAnswersBtn">
                <i class="fas fa-check-circle"></i> –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ –≤—Å—ñ –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ
            </button>
        </div>
        
        <!-- –ï–∫—Ä–∞–Ω —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ñ–≤ -->
        <div id="resultScreen" class="result-screen">
            <div class="result-emoji" id="resultEmoji">üå¨Ô∏è</div>
            <h2 id="resultTitle">–ú–∞–π—Å—Ç–µ—Ä –≤—ñ—Ç—Ä—É!</h2>
            <p id="resultMessage">–¢–∏ –≤—ñ–¥–º—ñ–Ω–Ω–æ —Ä–æ–∑—É–º—ñ—î—à —Å–∏–ª–∏ –ø—Ä–∏—Ä–æ–¥–∏!</p>
            
            <div class="result-score" id="finalScore">0/12 –±–∞–ª—ñ–≤</div>
            
            <div style="margin: 30px 0;">
                <h3>–¢–≤–æ—ó —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∏:</h3>
                <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 15px; margin: 20px 0;">
                    <div class="measurement-card">
                        <div class="measurement-value" id="resultCorrect">0</div>
                        <div class="measurement-unit">–ø—Ä–∞–≤–∏–ª—å–Ω–∏—Ö</div>
                    </div>
                    
                    <div class="measurement-card">
                        <div class="measurement-value" id="resultStars">‚òÜ</div>
                        <div class="measurement-unit">–∑—ñ—Ä–æ–∫</div>
                    </div>
                    
                    <div class="measurement-card">
                        <div class="measurement-value" id="resultTime">0</div>
                        <div class="measurement-unit">—Å–µ–∫—É–Ω–¥</div>
                    </div>
                </div>
            </div>
            
            <div style="margin-top: 40px;">
                <button class="btn-primary" onclick="finishLevel()" style="padding: 15px 40px; font-size: 20px;">
                    <i class="fas fa-trophy"></i> –ó–ê–í–ï–†–®–ò–¢–ò –†–Ü–í–ï–ù–¨
                </button>
            </div>
        </div>
    </main>

    <script>
        // ============ –ö–û–ù–§–Ü–ì–£–†–ê–¶–Ü–Ø –†–Ü–í–ù–Ø ============
        const LEVEL_CONFIG = {
            totalTime: 180, // 3 —Ö–≤–∏–ª–∏–Ω–∏ —É —Å–µ–∫—É–Ω–¥–∞—Ö
            totalQuestions: 3,
            maxScore: 12, // 3 –∑–∞–≤–¥–∞–Ω–Ω—è √ó 4 –±–∞–ª–∏ –∫–æ–∂–Ω–µ
            
            correctAnswers: {
                1: false, 2: false, 3: true,  4: false,
                5: false, 6: true,  7: false, 8: false,
                9: true,  10: false, 11: false, 12: false
            },
            
            questions: [
                {
                    id: 1,
                    text: "–í—ñ—Ç–µ—Ä –∑—ñ —à–≤–∏–¥–∫—ñ—Å—Ç—é 8 –º/—Å –¥–º–µ –∑ –ø—ñ–≤–Ω—ñ—á–Ω–æ–≥–æ –∑–∞—Ö–æ–¥—É. –Ø–∫ –Ω–∞–∑–∏–≤–∞—î—Ç—å—Å—è —Ç–∞–∫–∏–π –≤—ñ—Ç–µ—Ä?",
                    correct: 3,
                    points: 4
                },
                {
                    id: 2,
                    text: "–í—ñ—Ç–µ—Ä –∫–æ–ª–∏–≤–∞—î –≥—ñ–ª–∫–∏ –¥–µ—Ä–µ–≤, –≤–∏–¥–Ω–æ –ø—Ä–∞–ø–æ—Ä–∏, —â–æ —Ä–æ–∑–≤–∏–≤–∞—é—Ç—å—Å—è. –°–∏–ª–∞ –≤—ñ—Ç—Ä—É –∑–∞ —à–∫–∞–ª–æ—é –ë–æ—Ñ–æ—Ä—Ç–∞:",
                    correct: 6,
                    points: 4
                },
                {
                    id: 3,
                    text: "–Ø–∫–∏–π –≤–ø–ª–∏–≤ –º–∞—î –ø—ñ–≤–¥–µ–Ω–Ω–∏–π –≤—ñ—Ç–µ—Ä –Ω–∞ –ø–æ–≥–æ–¥—É –≤ –£–∫—Ä–∞—ó–Ω—ñ?",
                    correct: 9,
                    points: 4
                }
            ]
        };

        // ============ –ó–ú–Ü–ù–ù–Ü –ì–†–ò ============
        let gameState = {
            windSpeed: 0,
            windDirection: 'N',
            selectedAnswers: {},
            score: 0,
            correctCount: 0,
            timeLeft: LEVEL_CONFIG.totalTime,
            timerInterval: null,
            gameCompleted: false
        };

        // ============ –Ü–ù–Ü–¶–Ü–ê–õ–Ü–ó–ê–¶–Ü–Ø –ì–†–ò ============
        function initGame() {
            setWindSpeed(2, 'mild');
            setWindDirection('N');
            startTimer();
            generateWindParticles();
            updateDisplay();
        }

        function goBack() {
            if (confirm('–¢–∏ –≤–ø–µ–≤–Ω–µ–Ω–∏–π, —â–æ —Ö–æ—á–µ—à –≤–∏–π—Ç–∏? –†–µ–∑—É–ª—å—Ç–∞—Ç–∏ –Ω–µ –±—É–¥—É—Ç—å –∑–±–µ—Ä–µ–∂–µ–Ω—ñ.')) {
                window.location.href = 'index.html';
            }
        }

        // ============ –¢–ê–ô–ú–ï–† ============
        function startTimer() {
            gameState.timerInterval = setInterval(() => {
                gameState.timeLeft--;
                updateTimerDisplay();
                
                if (gameState.timeLeft <= 0) {
                    clearInterval(gameState.timerInterval);
                    if (!gameState.gameCompleted) {
                        finishGame();
                    }
                }
            }, 1000);
        }

        function updateTimerDisplay() {
            const minutes = Math.floor(gameState.timeLeft / 60);
            const seconds = gameState.timeLeft % 60;
            
            document.getElementById('levelTimer').textContent = 
                `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
            
            document.getElementById('global-timer').textContent = 
                `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
        }

        // ============ –í–Ü–¢–ï–† ============
        function setWindSpeed(speed, intensity) {
            gameState.windSpeed = speed;
            document.getElementById('wind-speed').textContent = speed;
            
            let force = 0;
            if (speed < 2) force = 1;
            else if (speed < 6) force = 3;
            else if (speed < 11) force = 5;
            else if (speed < 17) force = 7;
            else force = 9;
            
            document.getElementById('wind-force').textContent = force;
            updateWindAnimation(intensity);
            
            const warning = document.getElementById('stormWarning');
            warning.style.display = speed >= 15 ? 'block' : 'none';
            
            document.querySelectorAll('.wind-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            event.target.classList.add('active');
        }

        function setWindDirection(direction) {
            gameState.windDirection = direction;
            
            const directions = {
                'N': '–ü—ñ–≤–Ω—ñ—á–Ω–∏–π', 'NE': '–ü—ñ–≤–Ω—ñ—á–Ω–æ-—Å—Ö—ñ–¥–Ω–∏–π',
                'E': '–°—Ö—ñ–¥–Ω–∏–π', 'SE': '–ü—ñ–≤–¥–µ–Ω–Ω–æ-—Å—Ö—ñ–¥–Ω–∏–π',
                'S': '–ü—ñ–≤–¥–µ–Ω–Ω–∏–π', 'SW': '–ü—ñ–≤–¥–µ–Ω–Ω–æ-–∑–∞—Ö—ñ–¥–Ω–∏–π',
                'W': '–ó–∞—Ö—ñ–¥–Ω–∏–π', 'NW': '–ü—ñ–≤–Ω—ñ—á–Ω–æ-–∑–∞—Ö—ñ–¥–Ω–∏–π'
            };
            
            document.getElementById('wind-direction').textContent = 
                directions[direction] || direction;
            document.getElementById('currentDirection').textContent = 
                directions[direction] || direction;
            
            const rotations = {
                'N': 0, 'NE': 45, 'E': 90, 'SE': 135,
                'S': 180, 'SW': 225, 'W': 270, 'NW': 315
            };
            
            const vane = document.getElementById('vaneArrow');
            vane.style.setProperty('--vane-rotation', `${rotations[direction] || 0}deg`);
            
            document.querySelectorAll('.wind-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            event.target.classList.add('active');
            
            updateWindDirectionLine();
        }

        function generateWindParticles() {
            const container = document.getElementById('windAnimation');
            container.innerHTML = '';
            
            updateWindDirectionLine();
            
            for (let i = 0; i < 30; i++) {
                const particle = document.createElement('div');
                particle.className = 'wind-particle';
                particle.style.width = `${Math.random() * 8 + 2}px`;
                particle.style.height = particle.style.width;
                particle.style.top = `${Math.random() * 180}px`;
                particle.style.left = `${Math.random() * 100 - 20}%`;
                particle.style.animationDelay = `${Math.random() * 5}s`;
                container.appendChild(particle);
            }
        }

        function updateWindAnimation(intensity) {
            const container = document.getElementById('windAnimation');
            container.className = 'wind-animation-container';
            container.classList.add(`wind-effect-${intensity}`);
            
            updateWindDirectionLine();
            
            const particles = container.querySelectorAll('.wind-particle');
            particles.forEach(particle => {
                let duration = 10;
                if (intensity === 'mild') duration = 10;
                else if (intensity === 'moderate') duration = 5;
                else if (intensity === 'strong') duration = 2;
                particle.style.animationDuration = `${duration}s`;
            });
        }

        function updateWindDirectionLine() {
            const container = document.getElementById('windAnimation');
            let line = container.querySelector('.wind-direction');
            
            if (!line) {
                line = document.createElement('div');
                line.className = 'wind-direction';
                container.appendChild(line);
            }
            
            const rotation = getWindRotation();
            line.style.transform = `rotate(${rotation}deg)`;
        }

        function getWindRotation() {
            const rotations = {
                'N': 0, 'NE': 45, 'E': 90, 'SE': 135,
                'S': 180, 'SW': 225, 'W': 270, 'NW': 315
            };
            return rotations[gameState.windDirection] || 0;
        }

        // ============ –í–Ü–î–ü–û–í–Ü–î–Ü –ù–ê –ó–ê–í–î–ê–ù–ù–Ø ============
        function selectAnswer(answerId, element) {
            let questionNumber = 1;
            if (answerId >= 5 && answerId <= 8) questionNumber = 2;
            else if (answerId >= 9 && answerId <= 12) questionNumber = 3;
            
            const startId = (questionNumber - 1) * 4 + 1;
            for (let i = startId; i < startId + 4; i++) {
                const items = document.querySelectorAll('.task-item');
                const index = i - startId;
                if (items[index]) items[index].classList.remove('selected');
            }
            
            element.classList.add('selected');
            gameState.selectedAnswers[questionNumber] = answerId;
            updateDisplay();
        }

        function checkAllAnswers() {
            if (gameState.gameCompleted) return;
            
            let correct = 0;
            let totalScore = 0;
            
            for (let i = 1; i <= LEVEL_CONFIG.totalQuestions; i++) {
                const selectedAnswer = gameState.selectedAnswers[i];
                const correctAnswer = LEVEL_CONFIG.questions[i-1].correct;
                
                const taskItems = document.querySelectorAll('.task-item');
                const startIndex = (i-1) * 4;
                
                if (selectedAnswer === correctAnswer) {
                    correct++;
                    totalScore += LEVEL_CONFIG.questions[i-1].points;
                    
                    if (taskItems[startIndex + (correctAnswer % 4 === 0 ? 3 : (correctAnswer % 4) - 1)]) {
                        taskItems[startIndex + (correctAnswer % 4 === 0 ? 3 : (correctAnswer % 4) - 1)].style.borderColor = '#39ff14';
                        taskItems[startIndex + (correctAnswer % 4 === 0 ? 3 : (correctAnswer % 4) - 1)].style.background = 'rgba(57, 255, 20, 0.1)';
                    }
                } else if (selectedAnswer) {
                    if (taskItems[startIndex + (selectedAnswer % 4 === 0 ? 3 : (selectedAnswer % 4) - 1)]) {
                        taskItems[startIndex + (selectedAnswer % 4 === 0 ? 3 : (selectedAnswer % 4) - 1)].style.borderColor = '#ff4444';
                        taskItems[startIndex + (selectedAnswer % 4 === 0 ? 3 : (selectedAnswer % 4) - 1)].style.background = 'rgba(255, 68, 68, 0.1)';
                    }
                    
                    if (taskItems[startIndex + (correctAnswer % 4 === 0 ? 3 : (correctAnswer % 4) - 1)]) {
                        taskItems[startIndex + (correctAnswer % 4 === 0 ? 3 : (correctAnswer % 4) - 1)].style.borderColor = '#39ff14';
                        taskItems[startIndex + (correctAnswer % 4 === 0 ? 3 : (correctAnswer % 4) - 1)].style.background = 'rgba(57, 255, 20, 0.1)';
                    }
                }
            }
            
            gameState.correctCount = correct;
            gameState.score = totalScore;
            
            const questionsCompleted = Object.keys(gameState.selectedAnswers).length;
            if (questionsCompleted < LEVEL_CONFIG.totalQuestions) {
                alert(`–í–∏ –≤—ñ–¥–ø–æ–≤—ñ–ª–∏ –Ω–∞ ${questionsCompleted} –∑ ${LEVEL_CONFIG.totalQuestions} –∑–∞–≤–¥–∞–Ω—å. –ó–∞–ø–æ–≤–Ω—ñ—Ç—å –≤—Å—ñ –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ!`);
                return;
            }
            
            finishGame();
        }

        function skipTask() {
            for (let i = 1; i <= LEVEL_CONFIG.totalQuestions; i++) {
                if (!gameState.selectedAnswers[i]) {
                    const correctAnswer = LEVEL_CONFIG.questions[i-1].correct;
                    const answerElements = document.querySelectorAll('.task-item');
                    let startIndex = (i-1) * 4;
                    
                    for (let j = 0; j < 4; j++) {
                        const answerId = startIndex + 1 + j;
                        if (answerId === correctAnswer) {
                            const element = answerElements[startIndex + j];
                            selectAnswer(correctAnswer, element);
                            break;
                        }
                    }
                    
                    alert(`–ó–∞–≤–¥–∞–Ω–Ω—è ${i} –ø—Ä–æ–ø—É—â–µ–Ω–æ. –ü—Ä–∞–≤–∏–ª—å–Ω–∞ –≤—ñ–¥–ø–æ–≤—ñ–¥—å –±—É–ª–∞ –≤–∏–±—Ä–∞–Ω–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ.`);
                    break;
                }
            }
            updateDisplay();
        }

        // ============ –ó–ê–í–ï–†–®–ï–ù–ù–Ø –ì–†–ò ============
        function finishGame() {
            gameState.gameCompleted = true;
            clearInterval(gameState.timerInterval);
            
            const percentage = (gameState.score / LEVEL_CONFIG.maxScore) * 100;
            let emoji = "üå¨Ô∏è", title = "–ú–∞–π—Å—Ç–µ—Ä –≤—ñ—Ç—Ä—É!", message = "–¢–∏ –≤—ñ–¥–º—ñ–Ω–Ω–æ —Ä–æ–∑—É–º—ñ—î—à —Å–∏–ª–∏ –ø—Ä–∏—Ä–æ–¥–∏!", stars = "‚òÖ‚òÖ‚òÖ";
            
            if (percentage >= 90) {
                emoji = "üéØ"; title = "–Ü–¥–µ–∞–ª—å–Ω–æ!"; message = "–¢–∏ —Å–ø—Ä–∞–≤–∂–Ω—ñ–π –µ–∫—Å–ø–µ—Ä—Ç —É –≤–∏–≤—á–µ–Ω–Ω—ñ –≤—ñ—Ç—Ä—É!"; stars = "‚≠ê‚≠ê‚≠ê";
            } else if (percentage >= 70) {
                emoji = "üëç"; title = "–î–æ–±—Ä–µ!"; message = "–¢–∏ –¥–æ–±—Ä–µ –∑–Ω–∞—î—à —Ç–µ–º—É –≤—ñ—Ç—Ä—É!"; stars = "‚≠ê‚≠ê‚òÜ";
            } else if (percentage >= 50) {
                emoji = "üòä"; title = "–ù–µ–ø–æ–≥–∞–Ω–æ!"; message = "–¢–∏ —Ä–æ–∑—É–º—ñ—î—à –æ—Å–Ω–æ–≤–∏, –∞–ª–µ –º–æ–∂–Ω–∞ —â–µ –≤–¥–æ—Å–∫–æ–Ω–∞–ª–∏—Ç–∏ –∑–Ω–∞–Ω–Ω—è!"; stars = "‚≠ê‚òÜ‚òÜ";
            } else {
                emoji = "üìö"; title = "–¢—Ä–µ–±–∞ –ø–æ–≤—Ç–æ—Ä–∏—Ç–∏"; message = "–ü–æ–≤—Ç–æ—Ä–∏ –º–∞—Ç–µ—Ä—ñ–∞–ª –ø—Ä–æ –≤—ñ—Ç–µ—Ä —â–µ —Ä–∞–∑!"; stars = "‚òÜ‚òÜ‚òÜ";
            }
            
            document.getElementById('resultEmoji').textContent = emoji;
            document.getElementById('resultTitle').textContent = title;
            document.getElementById('resultMessage').textContent = message;
            document.getElementById('finalScore').textContent = `${gameState.score}/${LEVEL_CONFIG.maxScore} –±–∞–ª—ñ–≤`;
            document.getElementById('resultCorrect').textContent = gameState.correctCount;
            document.getElementById('resultStars').textContent = stars;
            document.getElementById('resultTime').textContent = LEVEL_CONFIG.totalTime - gameState.timeLeft;
            document.getElementById('global-score').textContent = `${gameState.score}/${LEVEL_CONFIG.maxScore}`;
            document.getElementById('resultScreen').style.display = 'block';
            document.getElementById('resultScreen').scrollIntoView({ behavior: 'smooth' });
            
            document.querySelectorAll('.task-item').forEach(item => {
                item.style.pointerEvents = 'none';
            });
            document.getElementById('checkAnswersBtn').style.display = 'none';
        }

        function finishLevel() {
            const levelResults = {
                level: 3,
                score: gameState.score,
                maxScore: LEVEL_CONFIG.maxScore,
                correctAnswers: gameState.correctCount,
                totalQuestions: LEVEL_CONFIG.totalQuestions,
                timeSpent: LEVEL_CONFIG.totalTime - gameState.timeLeft,
                completed: true,
                timestamp: new Date().toISOString()
            };
            
            localStorage.setItem('atmosphere_level_3', JSON.stringify(levelResults));
            updateGlobalStats();
            alert('–†—ñ–≤–µ–Ω—å –∑–∞–≤–µ—Ä—à–µ–Ω–æ! –†–µ–∑—É–ª—å—Ç–∞—Ç–∏ –∑–±–µ—Ä–µ–∂–µ–Ω–æ.');
            window.location.href = 'index.html';
        }

        function updateGlobalStats() {
            let globalStats = JSON.parse(localStorage.getItem('atmosphere_stats')) || {
                totalScore: 0,
                levelsCompleted: 0,
                totalTime: 0
            };
            
            globalStats.totalScore += gameState.score;
            globalStats.levelsCompleted++;
            globalStats.totalTime += (LEVEL_CONFIG.totalTime - gameState.timeLeft);
            
            localStorage.setItem('atmosphere_stats', JSON.stringify(globalStats));
        }

        // ============ –û–ù–û–í–õ–ï–ù–ù–Ø –Ü–ù–¢–ï–†–§–ï–ô–°–£ ============
        function updateDisplay() {
            document.getElementById('correctAnswers').textContent = gameState.correctCount;
            document.getElementById('currentScore').textContent = gameState.score;
            const questionsCompleted = Object.keys(gameState.selectedAnswers).length;
            document.getElementById('questionsLeft').textContent = LEVEL_CONFIG.totalQuestions - questionsCompleted;
            document.getElementById('global-score').textContent = `${gameState.score}/${LEVEL_CONFIG.maxScore}`;
            
            const checkBtn = document.getElementById('checkAnswersBtn');
            if (questionsCompleted === LEVEL_CONFIG.totalQuestions) {
                checkBtn.disabled = false;
                checkBtn.style.opacity = '1';
            } else {
                checkBtn.disabled = true;
                checkBtn.style.opacity = '0.7';
            }
        }

        // ============ –ì–ï–ù–ï–†–ê–¶–Ü–Ø –í–ò–ü–ê–î–ö–û–í–û–ì–û –í–Ü–¢–†–£ ============
        function generateRandomWind() {
            const speeds = [2, 6, 12];
            const directions = ['N', 'E', 'S', 'W', 'NE', 'SE', 'SW', 'NW'];
            const intensities = ['mild', 'moderate', 'strong'];
            
            const randomSpeed = speeds[Math.floor(Math.random() * speeds.length)];
            const randomDirection = directions[Math.floor(Math.random() * directions.length)];
            const randomIntensity = intensities[speeds.indexOf(randomSpeed)];
            
            setWindSpeed(randomSpeed, randomIntensity);
            setWindDirection(randomDirection);
            
            document.querySelectorAll('.wind-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            
            alert(`–°—Ç–≤–æ—Ä–µ–Ω–æ –≤–∏–ø–∞–¥–∫–æ–≤–∏–π –≤—ñ—Ç–µ—Ä: ${randomSpeed} –º/—Å, ${randomDirection}`);
        }

        // ============ –ó–ê–ü–£–°–ö –ì–†–ò –ü–†–ò –ó–ê–í–ê–ù–¢–ê–ñ–ï–ù–ù–Ü ============
        window.addEventListener('load', initGame);
    </script>
</body>
</html>
