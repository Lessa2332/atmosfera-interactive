<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ü—Ä–æ—î–∫—Ç: –ê–≥–µ–Ω—Ç –ë–µ–∑–ø–µ–∫–∏ | –ê—Ç–º–æ—Å—Ñ–µ—Ä–∞</title>
    <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;600;700;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="../styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --neon-green: #00ffaa;
            --neon-blue: #00ffff;
            --matrix-green: #39ff14;
            --dark-bg: #0a0a0a;
            --card-bg: rgba(255, 255, 255, 0.05);
        }

        body {
            background: linear-gradient(135deg, #0f172a, #1a0b2e);
            color: white;
            font-family: 'Nunito', sans-serif;
            margin: 0;
            padding: 20px;
            min-height: 100vh;
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
            padding: 20px;
        }

        /* –ù–∞–≤—ñ–≥–∞—Ü—ñ—è –ø—Ä–æ—î–∫—Ç—É */
        .project-header {
            text-align: center;
            padding: 30px;
            background: rgba(0, 255, 255, 0.1);
            border-radius: 25px;
            border: 2px solid var(--neon-blue);
            margin-bottom: 40px;
            backdrop-filter: blur(10px);
        }

        .project-title {
            font-size: 42px;
            background: linear-gradient(45deg, var(--neon-green), var(--neon-blue));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 10px;
        }

        .project-subtitle {
            font-size: 20px;
            opacity: 0.9;
            margin-bottom: 20px;
        }

        .project-badge {
            display: inline-block;
            background: linear-gradient(45deg, #ff4081, #c77dff);
            color: white;
            padding: 8px 20px;
            border-radius: 50px;
            font-weight: 900;
            margin: 10px;
        }

        /* –ï–∫—Ä–∞–Ω–∏ –≥—Ä–∏ */
        .game-screen {
            display: none;
            animation: fadeIn 0.5s ease;
        }

        .game-screen.active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* –°–∫–∞–Ω–Ω–µ—Ä */
        .scanner-container {
            background: rgba(0, 0, 0, 0.7);
            border-radius: 25px;
            padding: 40px;
            border: 3px solid var(--neon-green);
            position: relative;
            overflow: hidden;
            margin: 30px auto;
            max-width: 500px;
        }

        .scanner-container::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: conic-gradient(transparent, var(--neon-blue), transparent 30%);
            animation: rotate 4s linear infinite;
        }

        .scanner-container > * {
            position: relative;
            z-index: 2;
        }

        @keyframes rotate {
            100% { transform: rotate(360deg); }
        }

        .fingerprint-scanner {
            width: 180px;
            height: 220px;
            border: 3px dashed var(--neon-green);
            border-radius: 50%;
            margin: 30px auto;
            position: relative;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            background: rgba(0, 255, 170, 0.05);
            transition: all 0.3s;
        }

        .fingerprint-scanner:hover {
            border-color: var(--matrix-green);
            box-shadow: 0 0 30px rgba(57, 255, 20, 0.5);
        }

        .fingerprint-icon {
            font-size: 80px;
            color: var(--neon-green);
            opacity: 0.3;
            transition: opacity 0.5s;
        }

        .scan-line {
            position: absolute;
            top: 0;
            left: 10%;
            width: 80%;
            height: 4px;
            background: linear-gradient(90deg, transparent, var(--neon-green), transparent);
            box-shadow: 0 0 20px var(--neon-green);
            display: none;
            animation: scan 2s linear infinite;
        }

        @keyframes scan {
            0% { top: 0; }
            100% { top: 100%; }
        }

        /* –ú—ñ—Å—ñ—ó */
        .missions-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin: 30px 0;
        }

        .mission-card {
            background: var(--card-bg);
            border: 2px solid var(--glass-border);
            border-radius: 20px;
            padding: 25px;
            cursor: pointer;
            transition: all 0.3s;
            position: relative;
            overflow: hidden;
        }

        .mission-card:hover {
            transform: translateY(-5px);
            border-color: var(--neon-blue);
            box-shadow: 0 10px 30px rgba(0, 255, 255, 0.2);
        }

        .mission-card.completed {
            border-color: gold;
            background: rgba(255, 215, 0, 0.1);
        }

        .mission-card.completed::after {
            content: '‚úì';
            position: absolute;
            top: 15px;
            right: 15px;
            color: gold;
            font-size: 24px;
            font-weight: bold;
        }

        .mission-icon {
            font-size: 40px;
            margin-bottom: 15px;
            color: var(--neon-blue);
        }

        .mission-code {
            position: absolute;
            bottom: 15px;
            right: 15px;
            background: rgba(0, 0, 0, 0.7);
            color: var(--matrix-green);
            padding: 5px 10px;
            border-radius: 10px;
            font-family: 'Courier New', monospace;
            font-weight: bold;
            font-size: 18px;
            border: 1px solid var(--matrix-green);
        }

        /* –Ü–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞ –≤–ø—Ä–∞–≤–∞ */
        .quiz-container {
            background: linear-gradient(135deg, rgba(255, 149, 0, 0.1), rgba(0, 255, 255, 0.05));
            border-radius: 20px;
            padding: 30px;
            border: 2px solid var(--accent-orange);
            margin: 30px 0;
        }

        .weather-simulation {
            background: rgba(255, 255, 255, 0.08);
            border-radius: 15px;
            padding: 20px;
            margin: 20px 0;
            border-left: 4px solid var(--neon-blue);
        }

        /* –®–∏—Ñ—Ä—É–≤–∞–ª—å–Ω–∏–∫ */
        .decoder-interface {
            background: rgba(0, 0, 0, 0.8);
            border: 3px solid var(--matrix-green);
            border-radius: 20px;
            padding: 30px;
            margin: 30px 0;
            font-family: 'Courier New', monospace;
        }

        .code-display {
            font-size: 48px;
            letter-spacing: 15px;
            text-align: center;
            color: var(--matrix-green);
            margin: 30px 0;
            text-shadow: 0 0 10px var(--matrix-green);
            min-height: 60px;
            padding: 20px;
            background: rgba(0, 0, 0, 0.5);
            border-radius: 15px;
            border: 1px solid rgba(57, 255, 20, 0.3);
        }

        /* –°–µ—Ä—Ç–∏—Ñ—ñ–∫–∞—Ç */
        .certificate-container {
            background: white;
            color: black;
            border: 15px solid gold;
            padding: 50px;
            border-radius: 5px;
            text-align: center;
            margin: 40px auto;
            max-width: 700px;
            box-shadow: 0 20px 50px rgba(0, 0, 0, 0.3);
            position: relative;
        }

        .certificate-container::before {
            content: '';
            position: absolute;
            top: 20px;
            left: 20px;
            right: 20px;
            bottom: 20px;
            border: 2px solid #8B4513;
            pointer-events: none;
        }

        .certificate-logo {
            font-size: 60px;
            margin-bottom: 20px;
        }

        .certificate-title {
            font-size: 36px;
            color: #8B4513;
            margin-bottom: 10px;
            font-weight: 900;
        }

        .certificate-subtitle {
            font-size: 20px;
            color: #666;
            margin-bottom: 40px;
        }

        .certificate-name {
            font-size: 48px;
            color: #1a0b2e;
            margin: 30px 0;
            padding: 20px;
            border-top: 3px double gold;
            border-bottom: 3px double gold;
        }

        /* –ü—Ä–æ–≥—Ä–µ—Å */
        .progress-tracker {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin: 30px 0;
            padding: 20px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 15px;
        }

        .progress-step {
            text-align: center;
            flex: 1;
            position: relative;
        }

        .progress-step.active .step-number {
            background: var(--neon-green);
            color: black;
            box-shadow: 0 0 20px var(--neon-green);
        }

        .step-number {
            width: 40px;
            height: 40px;
            background: #333;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 10px;
            font-weight: 900;
            transition: all 0.3s;
        }

        /* –ê–¥–∞–ø—Ç–∏–≤–Ω—ñ—Å—Ç—å */
        @media (max-width: 768px) {
            .container {
                padding: 10px;
            }
            
            .project-title {
                font-size: 32px;
            }
            
            .missions-grid {
                grid-template-columns: 1fr;
            }
            
            .code-display {
                font-size: 32px;
                letter-spacing: 8px;
            }
            
            .certificate-container {
                padding: 20px;
                margin: 20px;
            }
        }

        /* –ê–Ω—ñ–º–∞—Ü—ñ—ó */
        .pulse {
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }

        .glitch {
            position: relative;
        }

        .glitch::before {
            content: attr(data-text);
            position: absolute;
            left: -2px;
            text-shadow: 2px 0 #ff00ff;
            background: transparent;
            overflow: hidden;
            clip: rect(0, 900px, 0, 0);
            animation: noise-anim 3s infinite linear alternate-reverse;
        }

        @keyframes noise-anim {
            0% { clip: rect(10px, 9999px, 20px, 0); }
            5% { clip: rect(2px, 9999px, 77px, 0); }
            10% { clip: rect(16px, 9999px, 53px, 0); }
            15% { clip: rect(44px, 9999px, 27px, 0); }
            20% { clip: rect(89px, 9999px, 61px, 0); }
            25% { clip: rect(33px, 9999px, 19px, 0); }
            30% { clip: rect(67px, 9999px, 42px, 0); }
            35% { clip: rect(92px, 9999px, 28px, 0); }
            40% { clip: rect(11px, 9999px, 63px, 0); }
            45% { clip: rect(38px, 9999px, 84px, 0); }
            50% { clip: rect(55px, 9999px, 16px, 0); }
            55% { clip: rect(72px, 9999px, 91px, 0); }
            60% { clip: rect(24px, 9999px, 48px, 0); }
            65% { clip: rect(81px, 9999px, 35px, 0); }
            70% { clip: rect(3px, 9999px, 79px, 0); }
            75% { clip: rect(46px, 9999px, 22px, 0); }
            80% { clip: rect(68px, 9999px, 95px, 0); }
            85% { clip: rect(29px, 9999px, 57px, 0); }
            90% { clip: rect(83px, 9999px, 13px, 0); }
            95% { clip: rect(7px, 9999px, 66px, 0); }
            100% { clip: rect(51px, 9999px, 31px, 0); }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- –ó–∞–≥–æ–ª–æ–≤–æ–∫ –ø—Ä–æ—î–∫—Ç—É -->
        <header class="project-header">
            <h1 class="project-title">üå™Ô∏è –ü–†–û–Ñ–ö–¢: –ê–ì–ï–ù–¢ –ë–ï–ó–ü–ï–ö–ò</h1>
            <p class="project-subtitle">–§—ñ–Ω–∞–ª—å–Ω–∞ –º—ñ—Å—ñ—è –∫—É—Ä—Å—É "–ê—Ç–º–æ—Å—Ñ–µ—Ä–∞"</p>
            <div>
                <span class="project-badge">–î–°–ù–° –£–∫—Ä–∞—ó–Ω–∏</span>
                <span class="project-badge">6 –∫–ª–∞—Å</span>
                <span class="project-badge">–ù–£–®</span>
            </div>
        </header>

        <!-- –¢—Ä–µ–∫–µ—Ä –ø—Ä–æ–≥—Ä–µ—Å—É -->
        <div class="progress-tracker">
            <div class="progress-step active">
                <div class="step-number">1</div>
                <div>–Ü–¥–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—è</div>
            </div>
            <div class="progress-step">
                <div class="step-number">2</div>
                <div>–ú—ñ—Å—ñ—ó</div>
            </div>
            <div class="progress-step">
                <div class="step-number">3</div>
                <div>–®–∏—Ñ—Ä—É–≤–∞–Ω–Ω—è</div>
            </div>
            <div class="progress-step">
                <div class="step-number">4</div>
                <div>–°–µ—Ä—Ç–∏—Ñ—ñ–∫–∞—Ç</div>
            </div>
        </div>

        <!-- –ï–∫—Ä–∞–Ω 1: –Ü–¥–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—è -->
        <div id="screen1" class="game-screen active">
            <h2><i class="fas fa-fingerprint"></i> –Ü–î–ï–ù–¢–ò–§–Ü–ö–ê–¶–Ü–Ø –ê–ì–ï–ù–¢–ê</h2>
            <p>–í—ñ—Ç–∞—î–º–æ –≤ –¶–µ–Ω—Ç—Ä—ñ –ø—ñ–¥–≥–æ—Ç–æ–≤–∫–∏ –∞–≥–µ–Ω—Ç—ñ–≤ –±–µ–∑–ø–µ–∫–∏ –î–°–ù–° –£–∫—Ä–∞—ó–Ω–∏. –î–ª—è –¥–æ—Å—Ç—É–ø—É –¥–æ –º—ñ—Å—ñ—ó –Ω–µ–æ–±—Ö—ñ–¥–Ω–æ –ø—Ä–æ–π—Ç–∏ —ñ–¥–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—é.</p>
            
            <div class="input-group" style="max-width: 400px; margin: 30px auto;">
                <input type="text" id="agentName" placeholder="–í–≤–µ–¥—ñ—Ç—å —Å–≤–æ—î –ø–æ–≤–Ω–µ —ñ–º'—è" style="width: 100%; padding: 15px; font-size: 18px; border-radius: 10px; border: 2px solid var(--neon-blue); background: rgba(255,255,255,0.1); color: white; text-align: center;">
            </div>

            <div class="scanner-container">
                <h3><i class="fas fa-qrcode"></i> –°–ö–ê–ù–£–í–ê–ù–ù–Ø –ë–Ü–û–ú–ï–¢–†–Ü–á</h3>
                <p>–ù–∞—Ç–∏—Å–Ω—ñ—Ç—å –Ω–∞ —Å–∫–∞–Ω–µ—Ä –¥–ª—è –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏ –≤—ñ–¥–±–∏—Ç–∫–∞</p>
                
                <div class="fingerprint-scanner" onclick="startBioScan()">
                    <i class="fas fa-fingerprint fingerprint-icon" id="fingerIcon"></i>
                    <div class="scan-line" id="scanLine"></div>
                </div>
                
                <div id="scanStatus" style="text-align: center; margin-top: 20px; min-height: 40px;">
                    <p><i class="fas fa-clock"></i> –û—á—ñ–∫—É–≤–∞–Ω–Ω—è —Å–∫–∞–Ω—É–≤–∞–Ω–Ω—è...</p>
                </div>
            </div>

            <div style="text-align: center; margin-top: 30px;">
                <button id="startMissionBtn" class="btn-primary" style="padding: 15px 40px; font-size: 20px; display: none;" onclick="startMission()">
                    <i class="fas fa-play-circle"></i> –ü–û–ß–ê–¢–ò –ú–Ü–°–Ü–Æ
                </button>
            </div>
        </div>

        <!-- –ï–∫—Ä–∞–Ω 2: –ú—ñ—Å—ñ—ó -->
        <div id="screen2" class="game-screen">
            <h2><i class="fas fa-tasks"></i> –û–ü–ï–†–ê–¢–ò–í–ù–Ü –ú–Ü–°–Ü–á</h2>
            <p>–í–∞—à–µ –∑–∞–≤–¥–∞–Ω–Ω—è ‚Äî –∑—ñ–±—Ä–∞—Ç–∏ 5 —Ñ—Ä–∞–≥–º–µ–Ω—Ç—ñ–≤ –∫–æ–¥—É, –≤–∏–≤—á–∏–≤—à–∏ –ø—Ä–∞–≤–∏–ª–∞ –±–µ–∑–ø–µ–∫–∏ –ø—ñ–¥ —á–∞—Å —Ä—ñ–∑–Ω–∏—Ö –Ω–µ–≥—ñ–¥. –ö–æ–∂–Ω–∞ –ø—Ä–∞–≤–∏–ª—å–Ω–∞ –≤—ñ–¥–ø–æ–≤—ñ–¥—å –≤—ñ–¥–∫—Ä–∏–≤–∞—î —á–∞—Å—Ç–∏–Ω—É –∫–æ–¥—É.</p>
            
            <div class="code-display" id="cipherDisplay">
                <span id="codeChar1">‚ö´</span>
                <span id="codeChar2">‚ö´</span>
                <span id="codeChar3">‚ö´</span>
                <span id="codeChar4">‚ö´</span>
                <span id="codeChar5">‚ö´</span>
            </div>

            <div class="missions-grid" id="missionsContainer">
                <!-- –ú—ñ—Å—ñ—ó –≥–µ–Ω–µ—Ä—É—é—Ç—å—Å—è —á–µ—Ä–µ–∑ JavaScript -->
            </div>

            <div id="missionDetail" style="display: none;">
                <div class="quiz-container">
                    <h3 id="missionTitle"></h3>
                    <div class="weather-simulation">
                        <h4><i class="fas fa-info-circle"></i> –¢–ï–û–†–ï–¢–ò–ß–ù–ê –ß–ê–°–¢–ò–ù–ê</h4>
                        <p id="missionTheory"></p>
                    </div>
                    
                    <div style="margin-top: 30px;">
                        <h4><i class="fas fa-question-circle"></i> –ü–†–ê–ö–¢–ò–ß–ù–ï –ó–ê–í–î–ê–ù–ù–Ø</h4>
                        <p id="missionQuestion"></p>
                        <div id="missionOptions" style="display: grid; gap: 15px; margin: 20px 0;"></div>
                    </div>
                    
                    <button class="btn-secondary" onclick="closeMission()">
                        <i class="fas fa-arrow-left"></i> –ü–æ–≤–µ—Ä–Ω—É—Ç–∏—Å—è –¥–æ –º—ñ—Å—ñ–π
                    </button>
                </div>
            </div>

            <div style="text-align: center; margin-top: 30px;">
                <button id="decoderBtn" class="btn-primary" style="padding: 15px 40px; font-size: 20px; display: none;" onclick="openDecoder()">
                    <i class="fas fa-key"></i> –í–Ü–î–ö–†–ò–¢–ò –î–ï–®–ò–§–†–ê–¢–û–†
                </button>
            </div>
        </div>

        <!-- –ï–∫—Ä–∞–Ω 3: –î–µ—à–∏—Ñ—Ä—É–≤–∞–Ω–Ω—è -->
        <div id="screen3" class="game-screen">
            <h2><i class="fas fa-lock"></i> –ö–í–ê–ù–¢–û–í–ò–ô –î–ï–®–ò–§–†–ê–¢–û–†</h2>
            <p>–í–≤–µ–¥—ñ—Ç—å –æ—Ç—Ä–∏–º–∞–Ω–∏–π –∫–æ–¥ –∑ 5 —Å–∏–º–≤–æ–ª—ñ–≤ –¥–ª—è —Ä–æ–∑—à–∏—Ñ—Ä–æ–≤–∫–∏ —Å–µ–∫—Ä–µ—Ç–Ω–æ–≥–æ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è</p>
            
            <div class="decoder-interface">
                <div style="text-align: center; margin-bottom: 30px;">
                    <input type="text" id="finalCode" maxlength="5" placeholder="–í–≤–µ–¥—ñ—Ç—å 5 —Å–∏–º–≤–æ–ª—ñ–≤" style="font-size: 24px; padding: 15px; width: 300px; text-align: center; letter-spacing: 5px; font-family: 'Courier New', monospace; background: black; color: var(--matrix-green); border: 2px solid var(--matrix-green); border-radius: 10px; text-transform: uppercase;">
                </div>
                
                <div style="text-align: center;">
                    <button class="btn-primary" onclick="startDecoding()" style="padding: 15px 30px; font-size: 18px;">
                        <i class="fas fa-bolt"></i> –ó–ê–ü–£–°–¢–ò–¢–ò –î–ï–®–ò–§–†–£–í–ê–ù–ù–Ø
                    </button>
                </div>
                
                <div id="decodingAnimation" style="text-align: center; margin-top: 40px; min-height: 100px;">
                    <div id="decodeResult" class="code-display"></div>
                </div>
                
                <div id="decodingMessage" style="text-align: center; margin-top: 20px; font-size: 18px; color: var(--neon-blue);"></div>
            </div>

            <div style="text-align: center; margin-top: 40px;">
                <button id="certificateBtn" class="btn-primary" style="padding: 15px 40px; font-size: 20px; display: none;" onclick="showCertificate()">
                    <i class="fas fa-award"></i> –û–¢–†–ò–ú–ê–¢–ò –°–ï–†–¢–ò–§–Ü–ö–ê–¢
                </button>
            </div>
        </div>

        <!-- –ï–∫—Ä–∞–Ω 4: –°–µ—Ä—Ç–∏—Ñ—ñ–∫–∞—Ç -->
        <div id="screen4" class="game-screen">
            <div class="certificate-container">
                <div class="certificate-logo">üéñÔ∏è</div>
                <h1 class="certificate-title">–°–ï–†–¢–ò–§–Ü–ö–ê–¢ –ë–ï–ó–ü–ï–ö–ò</h1>
                <p class="certificate-subtitle">–î–µ—Ä–∂–∞–≤–Ω–∞ —Å–ª—É–∂–±–∞ –£–∫—Ä–∞—ó–Ω–∏ –∑ –Ω–∞–¥–∑–≤–∏—á–∞–π–Ω–∏—Ö —Å–∏—Ç—É–∞—Ü—ñ–π</p>
                
                <hr style="border: 2px solid gold; width: 80%; margin: 30px auto;">
                
                <p>–¶–∏–º —Å–µ—Ä—Ç–∏—Ñ—ñ–∫–∞—Ç–æ–º –∑–∞—Å–≤—ñ–¥—á—É—î—Ç—å—Å—è, —â–æ</p>
                <h2 class="certificate-name" id="certName">[–Ü–ú'–Ø –ê–ì–ï–ù–¢–ê]</h2>
                <p>—É—Å–ø—ñ—à–Ω–æ –ø—Ä–æ–π—à–æ–≤(–ª–∞) –∫—É—Ä—Å –ø—ñ–¥–≥–æ—Ç–æ–≤–∫–∏</p>
                <h3 style="color: #1a0b2e; margin: 20px 0;">"–ë–ï–ó–ü–ï–ö–ê –ü–Ü–î –ß–ê–° –ê–¢–ú–û–°–§–ï–†–ù–ò–• –Ø–í–ò–©"</h3>
                
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 30px; margin: 40px 0;">
                    <div>
                        <h4>–û–°–í–û–Ñ–ù–Ü –¢–ï–ú–ò:</h4>
                        <ul style="text-align: left; padding-left: 20px;">
                            <li>–¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ –ø–æ–≤—ñ—Ç—Ä—è</li>
                            <li>–ê—Ç–º–æ—Å—Ñ–µ—Ä–Ω–∏–π —Ç–∏—Å–∫</li>
                            <li>–í—ñ—Ç–µ—Ä —Ç–∞ –π–æ–≥–æ —Å–∏–ª–∞</li>
                            <li>–•–º–∞—Ä–∏ —Ç–∞ –æ–ø–∞–¥–∏</li>
                            <li>–ü—Ä–∞–≤–∏–ª–∞ –±–µ–∑–ø–µ–∫–∏</li>
                        </ul>
                    </div>
                    <div>
                        <h4>–ù–ê–ë–£–¢–Ü –ù–ê–í–ò–ß–ö–ò:</h4>
                        <ul style="text-align: left; padding-left: 20px;">
                            <li>–ê–Ω–∞–ª—ñ–∑ –ø–æ–≥–æ–¥–Ω–∏—Ö —É–º–æ–≤</li>
                            <li>–ü—Ä–∏–π–Ω—è—Ç—Ç—è —Ä—ñ—à–µ–Ω—å</li>
                            <li>–ö—Ä–∏–ø—Ç–æ–≥—Ä–∞—Ñ—ñ—á–Ω–∏–π –∞–Ω–∞–ª—ñ–∑</li>
                            <li>–ö–æ–º–∞–Ω–¥–Ω–∞ —Ä–æ–±–æ—Ç–∞</li>
                        </ul>
                    </div>
                </div>
                
                <hr style="border: 1px solid #ccc; width: 60%; margin: 20px auto;">
                
                <div style="display: flex; justify-content: space-around; margin-top: 40px;">
                    <div>
                        <p>–î–∞—Ç–∞ –≤–∏–¥–∞—á—ñ</p>
                        <h4 id="certDate">07.02.2026</h4>
                    </div>
                    <div>
                        <p>–Ü–¥–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ç–æ—Ä</p>
                        <h4 id="certId">ATMOS-#<span id="certNumber">0001</span></h4>
                    </div>
                </div>
                
                <div style="margin-top: 50px;">
                    <button class="btn-primary no-print" onclick="printCertificate()" style="margin: 10px;">
                        <i class="fas fa-print"></i> –î–†–£–ö–£–í–ê–¢–ò –°–ï–†–¢–ò–§–Ü–ö–ê–¢
                    </button>
                    <button class="btn-secondary no-print" onclick="finishProject()" style="margin: 10px;">
                        <i class="fas fa-trophy"></i> –ó–ê–í–ï–†–®–ò–¢–ò –ü–†–û–Ñ–ö–¢
                    </button>
                </div>
            </div>
            
            <div style="text-align: center; margin-top: 40px;" class="no-print">
                <p><i class="fas fa-share-alt"></i> –ü–æ–¥—ñ–ª–∏—Å—è —Å–≤–æ—ó–º –¥–æ—Å—è–≥–Ω–µ–Ω–Ω—è–º –∑ –¥—Ä—É–∑—è–º–∏!</p>
                <button class="btn-secondary" onclick="shareCertificate()" style="margin: 5px;">
                    <i class="fab fa-facebook"></i> Facebook
                </button>
                <button class="btn-secondary" onclick="shareCertificate()" style="margin: 5px;">
                    <i class="fab fa-instagram"></i> Instagram
                </button>
                <button class="btn-secondary" onclick="downloadCertificate()" style="margin: 5px;">
                    <i class="fas fa-download"></i> –ó–±–µ—Ä–µ–≥—Ç–∏ —è–∫ PDF
                </button>
            </div>
        </div>
    </div>

    <script>
        // ============ –ö–û–ù–§–Ü–ì–£–†–ê–¶–Ü–Ø –ü–†–û–Ñ–ö–¢–£ ============
        const PROJECT_CONFIG = {
            missions: [
                {
                    id: "hail",
                    title: "–ì–†–ê–î–û–í–ê –ê–¢–ê–ö–ê",
                    icon: "‚õàÔ∏è",
                    theory: "–ì—Ä–∞–¥ —É—Ç–≤–æ—Ä—é—î—Ç—å—Å—è –≤ –≥—Ä–æ–∑–æ–≤–∏—Ö —Ö–º–∞—Ä–∞—Ö, –∫–æ–ª–∏ –∫—Ä–∞–ø–ª—ñ –≤–æ–¥–∏ –±–∞–≥–∞—Ç–æ—Ä–∞–∑–æ–≤–æ –ø—ñ–¥–Ω—ñ–º–∞—é—Ç—å—Å—è —ñ –æ–ø—É—Å–∫–∞—é—Ç—å—Å—è, –ø–æ–∫—Ä–∏–≤–∞—é—á–∏—Å—å —à–∞—Ä–∞–º–∏ –ª—å–æ–¥—É. –ì—Ä–∞–¥–∏–Ω–∏ –º–æ–∂—É—Ç—å –¥–æ—Å—è–≥–∞—Ç–∏ —Ä–æ–∑–º—ñ—Ä—É —Ç–µ–Ω—ñ—Å–Ω–æ–≥–æ –º'—è—á–∞ —ñ –∑–∞–≤–¥–∞—Ç–∏ —Å–µ—Ä–π–æ–∑–Ω–∏—Ö –ø–æ—à–∫–æ–¥–∂–µ–Ω—å.",
                    question: "–©–æ –Ω–∞–π–±–µ–∑–ø–µ—á–Ω—ñ—à–µ —Ä–æ–±–∏—Ç–∏ –ø—ñ–¥ —á–∞—Å —Å–∏–ª—å–Ω–æ–≥–æ –≥—Ä–∞–¥—É?",
                    options: [
                        "–®–≤–∏–¥–∫–æ –±—ñ–≥—Ç–∏ –¥–æ–¥–æ–º—É",
                        "–°—Ö–æ–≤–∞—Ç–∏—Å—è –ø—ñ–¥ –º—ñ—Ü–Ω–∏–º –¥–∞—Ö–æ–º –∞–±–æ –≤ –±—É–¥—ñ–≤–ª—ñ",
                        "–°—Ç–æ—è—Ç–∏ –ø—ñ–¥ –≤–∏—Å–æ–∫–∏–º –¥–µ—Ä–µ–≤–æ–º"
                    ],
                    correct: 1,
                    codeChar: "–ë",
                    color: "#FF9500"
                },
                {
                    id: "ice",
                    title: "–û–ñ–ï–õ–ï–î–ï–í–ê –¢–ï–†–ò–¢–û–†–Ü–Ø",
                    icon: "üßä",
                    theory: "–û–∂–µ–ª–µ–¥–∏—Ü—è ‚Äî —Ü–µ —à–∞—Ä –ª—å–æ–¥—É, —â–æ —É—Ç–≤–æ—Ä—é—î—Ç—å—Å—è –Ω–∞ –ø–æ–≤–µ—Ä—Ö–Ω—ñ –ø—Ä–∏ –ø–∞–¥—ñ–Ω–Ω—ñ –ø–µ—Ä–µ–æ—Ö–æ–ª–æ–¥–∂–µ–Ω–∏—Ö –¥–æ—â–æ–≤–∏—Ö –∫—Ä–∞–ø–µ–ª—å. –í–æ–Ω–∞ —Ä–æ–±–∏—Ç—å –¥–æ—Ä–æ–≥–∏, —Ç—Ä–æ—Ç—É–∞—Ä–∏ —Ç–∞ –≥—ñ–ª–∫–∏ –¥–µ—Ä–µ–≤ –Ω–∞–¥–∑–≤–∏—á–∞–π–Ω–æ —Å–ª–∏–∑—å–∫–∏–º–∏.",
                    question: "–Ø–∫ –±–µ–∑–ø–µ—á–Ω–æ –ø–µ—Ä–µ—Å—É–≤–∞—Ç–∏—Å—è –ø–æ –æ–∂–µ–ª–µ–¥–∏—Ü—ñ?",
                    options: [
                        "–ë—ñ–≥—Ç–∏, —â–æ–± —à–≤–∏–¥—à–µ –ø—Ä–æ–π—Ç–∏ –Ω–µ–±–µ–∑–ø–µ—á–Ω—É –¥—ñ–ª—è–Ω–∫—É",
                        "–•–æ–¥–∏—Ç–∏ –¥—Ä—ñ–±–Ω–∏–º–∏ –∫—Ä–æ–∫–∞–º–∏, —è–∫ –ø—ñ–Ω–≥–≤—ñ–Ω, –Ω–µ –≤—ñ–¥—Ä–∏–≤–∞—é—á–∏ –ø'—è—Ç",
                        "–°—Ç—Ä–∏–±–∞—Ç–∏ –∑ –∫–∞–ª—é–∂—ñ –≤ –∫–∞–ª—é–∂—É"
                    ],
                    correct: 1,
                    codeChar: "–§",
                    color: "#00FFFF"
                },
                {
                    id: "wind",
                    title: "–®–¢–û–†–ú–û–í–ò–ô –í–Ü–¢–ï–†",
                    icon: "üí®",
                    theory: "–®—Ç–æ—Ä–º–æ–≤–∏–π –≤—ñ—Ç–µ—Ä (–ø–æ–Ω–∞–¥ 20 –º/—Å) –º–æ–∂–µ –∑—Ä–∏–≤–∞—Ç–∏ –¥–∞—Ö–∏, –ª–∞–º–∞—Ç–∏ –≥—ñ–ª–∫–∏ –¥–µ—Ä–µ–≤, –ø–µ—Ä–µ–∫–∏–¥–∞—Ç–∏ –ª–µ–≥–∫—ñ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü—ñ—ó. –û—Å–æ–±–ª–∏–≤–æ –Ω–µ–±–µ–∑–ø–µ—á–Ω—ñ –±—ñ–ª–±–æ—Ä–¥–∏, –ø–∞—Ä–∫–∞–Ω–∏ —Ç–∞ –õ–ï–ü.",
                    question: "–Ø–∫–∏–π –æ–±'—î–∫—Ç –Ω–∞–π–Ω–µ–±–µ–∑–ø–µ—á–Ω—ñ—à–∏–π –ø—ñ–¥ —á–∞—Å —à—Ç–æ—Ä–º–æ–≤–æ–≥–æ –≤—ñ—Ç—Ä—É?",
                    options: [
                        "–í–µ–ª–∏–∫–∞ —Ä–µ–∫–ª–∞–º–Ω–∞ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü—ñ—è (–±—ñ–ª–±–æ—Ä–¥)",
                        "–ù–∏–∑—å–∫–∏–π —á–∞–≥–∞—Ä–Ω–∏–∫",
                        "–ú–µ—Ç–∞–ª–µ–≤–∞ –ª–∞–≤–∫–∞ –≤ –ø–∞—Ä–∫—É"
                    ],
                    correct: 0,
                    codeChar: "–ï",
                    color: "#39FF14"
                },
                {
                    id: "thunder",
                    title: "–ì–†–û–ó–û–í–ê –¢–†–ò–í–û–ì–ê",
                    icon: "‚ö°",
                    theory: "–ë–ª–∏—Å–∫–∞–≤–∫–∞ ‚Äî —Ü–µ –µ–ª–µ–∫—Ç—Ä–∏—á–Ω–∏–π —Ä–æ–∑—Ä—è–¥ –º—ñ–∂ —Ö–º–∞—Ä–æ—é —Ç–∞ –∑–µ–º–ª–µ—é. –¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ –≤ –∫–∞–Ω–∞–ª—ñ –±–ª–∏—Å–∫–∞–≤–∫–∏ –º–æ–∂–µ —Å—è–≥–∞—Ç–∏ 30 000¬∞C ‚Äî —É 5 —Ä–∞–∑—ñ–≤ –≥–∞—Ä—è—á—ñ—à–µ, –Ω—ñ–∂ –ø–æ–≤–µ—Ä—Ö–Ω—è –°–æ–Ω—Ü—è!",
                    question: "–©–æ —Ä–æ–±–∏—Ç–∏ –∑ –µ–ª–µ–∫—Ç—Ä–æ–Ω–Ω–∏–º–∏ –ø—Ä–∏—Å—Ç—Ä–æ—è–º–∏ –ø—ñ–¥ —á–∞—Å –≥—Ä–æ–∑–∏?",
                    options: [
                        "–í–∏–º–∫–Ω—É—Ç–∏ –∑ —Ä–æ–∑–µ—Ç–∫–∏ —Ç–∞ –Ω–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏",
                        "–ü–æ–∫–ª–∞—Å—Ç–∏ –Ω–∞ –ø—ñ–¥–≤—ñ–∫–æ–Ω–Ω—è –¥–ª—è –∑–∞—Ä—è–¥–∫–∏",
                        "–¢–µ–ª–µ—Ñ–æ–Ω—É–≤–∞—Ç–∏ –¥—Ä—É–∑—è–º, —â–æ–± –ø–æ–ø–µ—Ä–µ–¥–∏—Ç–∏"
                    ],
                    correct: 0,
                    codeChar: "–û",
                    color: "#C77DFF"
                },
                {
                    id: "fog",
                    title: "–¢–£–ú–ê–ù–ù–ê –û–ü–ï–†–ê–¶–Ü–Ø",
                    icon: "üå´Ô∏è",
                    theory: "–¢—É–º–∞–Ω —É—Ç–≤–æ—Ä—é—î—Ç—å—Å—è, –∫–æ–ª–∏ —Ç–µ–ø–ª–µ –≤–æ–ª–æ–≥–µ –ø–æ–≤—ñ—Ç—Ä—è –æ—Ö–æ–ª–æ–¥–∂—É—î—Ç—å—Å—è, —ñ –≤–æ–¥—è–Ω–∞ –ø–∞—Ä–∞ –∫–æ–Ω–¥–µ–Ω—Å—É—î—Ç—å—Å—è –≤ –∫—Ä–∏—Ö—ñ—Ç–Ω—ñ –∫—Ä–∞–ø–ª—ñ. –í–∏–¥–∏–º—ñ—Å—Ç—å –º–æ–∂–µ –∑–Ω–∏–∂—É–≤–∞—Ç–∏—Å—è –¥–æ –∫—ñ–ª—å–∫–æ—Ö –º–µ—Ç—Ä—ñ–≤.",
                    question: "–©–æ –æ–±–æ–≤'—è–∑–∫–æ–≤–æ —Ä–æ–±–∏—Ç–∏ –ø—ñ–¥ —á–∞—Å —Ä—É—Ö—É –≤ —Ç—É–º–∞–Ω—ñ?",
                    options: [
                        "–á—Ö–∞—Ç–∏ —à–≤–∏–¥—à–µ, —â–æ–± —à–≤–∏–¥—à–µ –≤–∏—ó—Ö–∞—Ç–∏ –∑ —Ç—É–º–∞–Ω—É",
                        "–í–∫–ª—é—á–∏—Ç–∏ –ø—Ä–æ—Ç–∏—Ç—É–º–∞–Ω–Ω—ñ —Ñ–∞—Ä–∏ —Ç–∞ –∑–Ω–∏–∑–∏—Ç–∏ —à–≤–∏–¥–∫—ñ—Å—Ç—å",
                        "–ì–∞—Ä–Ω—É–≤–∞—Ç–∏, —â–æ–± —ñ–Ω—à—ñ –≤–æ–¥—ñ—ó —á—É–ª–∏ –≤–∞—Å"
                    ],
                    correct: 1,
                    codeChar: "–£",
                    color: "#FF4081"
                }
            ],
            
            finalCode: "–ë–§–ï–û–£", // –ö–æ–¥ –¥–ª—è –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏
            secretMessage: "–ë–ï–ó–ü–ï–ö–ê", // –†–æ–∑—à–∏—Ñ—Ä–æ–≤–∞–Ω–µ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è
            
            // –ë–∞–ª–∏ —Ç–∞ –Ω–∞–≥–æ—Ä–æ–¥–∏
            scoring: {
                correctAnswer: 2,
                allMissionsBonus: 5,
                timeBonus: 3,
                totalMax: 15 // 5 –º—ñ—Å—ñ–π √ó 2 + 5 –±–æ–Ω—É—Å = 15
            }
        };

        // ============ –ó–ú–Ü–ù–ù–Ü –ì–†–ò ============
        let gameState = {
            agentName: "",
            currentScreen: 1,
            completedMissions: [],
            collectedCode: ["_", "_", "_", "_", "_"],
            score: 0,
            startTime: null,
            certificateNumber: Math.floor(Math.random() * 10000).toString().padStart(4, '0')
        };

        // ============ –Ü–ù–Ü–¶–Ü–ê–õ–Ü–ó–ê–¶–Ü–Ø ============
        document.addEventListener('DOMContentLoaded', function() {
            initProject();
            loadProgress();
            renderMissions();
            updateProgressTracker();
        });

        function initProject() {
            gameState.startTime = Date.now();
            
            // –ü–µ—Ä–µ–≤—ñ—Ä—è—î–º–æ, —á–∏ –Ω–µ –±—É–≤ –ø—Ä–æ—î–∫—Ç –≤–∂–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–π
            const completed = localStorage.getItem('project_completed');
            if (completed) {
                showScreen(4);
                loadCertificateData();
            }
        }

        function loadProgress() {
            const saved = localStorage.getItem('safe_agent_progress');
            if (saved) {
                gameState = JSON.parse(saved);
                updateCodeDisplay();
                
                // –Ø–∫—â–æ –≤—Å—ñ –º—ñ—Å—ñ—ó –ø—Ä–æ–π–¥–µ–Ω—ñ - –ø–æ–∫–∞–∑–∞—Ç–∏ –∫–Ω–æ–ø–∫—É –¥–µ—à–∏—Ñ—Ä–∞—Ç–æ—Ä–∞
                if (gameState.completedMissions.length === PROJECT_CONFIG.missions.length) {
                    document.getElementById('decoderBtn').style.display = 'block';
                }
            }
        }

        function saveProgress() {
            localStorage.setItem('safe_agent_progress', JSON.stringify(gameState));
        }

        // ============ –ï–ö–†–ê–ù–ò –¢–ê –ù–ê–í–Ü–ì–ê–¶–Ü–Ø ============
        function showScreen(screenNumber) {
            // –ü—Ä–∏—Ö–æ–≤—É—î–º–æ –≤—Å—ñ –µ–∫—Ä–∞–Ω–∏
            document.querySelectorAll('.game-screen').forEach(screen => {
                screen.classList.remove('active');
            });
            
            // –ü–æ–∫–∞–∑—É—î–º–æ –ø–æ—Ç—Ä—ñ–±–Ω–∏–π –µ–∫—Ä–∞–Ω
            document.getElementById(`screen${screenNumber}`).classList.add('active');
            gameState.currentScreen = screenNumber;
            
            // –û–Ω–æ–≤–ª—é—î–º–æ —Ç—Ä–µ–∫–µ—Ä –ø—Ä–æ–≥—Ä–µ—Å—É
            updateProgressTracker();
            
            // –û–Ω–æ–≤–ª—é—î–º–æ –¥–∞–Ω—ñ –Ω–∞ –µ–∫—Ä–∞–Ω—ñ —Å–µ—Ä—Ç–∏—Ñ—ñ–∫–∞—Ç–∞
            if (screenNumber === 4) {
                loadCertificateData();
            }
        }

        function updateProgressTracker() {
            const steps = document.querySelectorAll('.progress-step');
            steps.forEach((step, index) => {
                step.classList.remove('active');
                if (index + 1 === gameState.currentScreen) {
                    step.classList.add('active');
                }
            });
        }

        // ============ –°–ö–ê–ù–£–í–ê–ù–ù–Ø ============
        function startBioScan() {
            const nameInput = document.getElementById('agentName').value.trim();
            if (!nameInput) {
                alert("–ê–≥–µ–Ω—Ç–µ, —Å–ø–æ—á–∞—Ç–∫—É –≤–≤–µ–¥—ñ—Ç—å —Å–≤–æ—î —ñ–º'—è!");
                return;
            }
            
            gameState.agentName = nameInput;
            document.getElementById('scanStatus').innerHTML = '<p><i class="fas fa-sync-alt fa-spin"></i> –°–ö–ê–ù–£–í–ê–ù–ù–Ø...</p>';
            document.getElementById('scanLine').style.display = 'block';
            document.getElementById('fingerIcon').style.opacity = '0.7';
            
            setTimeout(() => {
                document.getElementById('scanLine').style.display = 'none';
                document.getElementById('scanStatus').innerHTML = `
                    <p style="color: var(--neon-green);">
                        <i class="fas fa-check-circle"></i> –Ü–î–ï–ù–¢–ò–§–Ü–ö–ê–¶–Ü–Æ –ü–†–û–ô–î–ï–ù–û
                    </p>
                    <p>–ê–≥–µ–Ω—Ç: <strong>${gameState.agentName}</strong></p>
                `;
                document.getElementById('startMissionBtn').style.display = 'block';
                saveProgress();
            }, 3000);
        }

        function startMission() {
            showScreen(2);
        }

        // ============ –ú–Ü–°–Ü–á ============
        function renderMissions() {
            const container = document.getElementById('missionsContainer');
            container.innerHTML = '';
            
            PROJECT_CONFIG.missions.forEach((mission, index) => {
                const isCompleted = gameState.completedMissions.includes(mission.id);
                const card = document.createElement('div');
                card.className = `mission-card ${isCompleted ? 'completed' : ''}`;
                card.style.borderColor = mission.color;
                card.onclick = () => openMission(mission.id);
                
                card.innerHTML = `
                    <div class="mission-icon">${mission.icon}</div>
                    <h3>${mission.title}</h3>
                    <p>${mission.question}</p>
                    ${isCompleted ? 
                        `<div class="mission-code">${mission.codeChar}</div>` : 
                        `<div style="color: #666; margin-top: 10px;"><i class="fas fa-lock"></i> –ó–∞–º–∫–Ω–µ–Ω–æ</div>`
                    }
                `;
                
                container.appendChild(card);
            });
        }

        function openMission(missionId) {
            const mission = PROJECT_CONFIG.missions.find(m => m.id === missionId);
            if (!mission) return;
            
            // –Ø–∫—â–æ –º—ñ—Å—ñ—è –≤–∂–µ –ø—Ä–æ–π–¥–µ–Ω–∞, –Ω–µ –ø–æ–∫–∞–∑—É—î–º–æ –∑–Ω–æ–≤—É
            if (gameState.completedMissions.includes(missionId)) {
                alert("–¶—é –º—ñ—Å—ñ—é –≤–∂–µ –≤–∏–∫–æ–Ω–∞–Ω–æ!");
                return;
            }
            
            document.getElementById('missionsContainer').style.display = 'none';
            document.getElementById('missionDetail').style.display = 'block';
            
            document.getElementById('missionTitle').textContent = mission.title;
            document.getElementById('missionTheory').textContent = mission.theory;
            document.getElementById('missionQuestion').textContent = mission.question;
            
            const optionsContainer = document.getElementById('missionOptions');
            optionsContainer.innerHTML = '';
            
            mission.options.forEach((option, index) => {
                const button = document.createElement('button');
                button.className = 'btn-secondary';
                button.style.width = '100%';
                button.style.padding = '15px';
                button.style.textAlign = 'left';
                button.innerHTML = `<span style="font-weight: bold; margin-right: 10px;">${String.fromCharCode(65 + index)}.</span> ${option}`;
                button.onclick = () => checkAnswer(missionId, index);
                optionsContainer.appendChild(button);
            });
        }

        function closeMission() {
            document.getElementById('missionsContainer').style.display = 'grid';
            document.getElementById('missionDetail').style.display = 'none';
        }

        function checkAnswer(missionId, selectedIndex) {
            const mission = PROJECT_CONFIG.missions.find(m => m.id === missionId);
            const isCorrect = selectedIndex === mission.correct;
            
            if (isCorrect) {
                // –î–æ–¥–∞—î–º–æ –º—ñ—Å—ñ—é –¥–æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—Ö
                if (!gameState.completedMissions.includes(missionId)) {
                    gameState.completedMissions.push(missionId);
                    
                    // –û–Ω–æ–≤–ª—é—î–º–æ –∫–æ–¥
                    const missionIndex = PROJECT_CONFIG.missions.findIndex(m => m.id === missionId);
                    gameState.collectedCode[missionIndex] = mission.codeChar;
                    
                    // –î–æ–¥–∞—î–º–æ –±–∞–ª–∏
                    gameState.score += PROJECT_CONFIG.scoring.correctAnswer;
                    
                    // –û–Ω–æ–≤–ª—é—î–º–æ –≤—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–Ω—è
                    updateCodeDisplay();
                    renderMissions();
                    saveProgress();
                    
                    // –ü–µ—Ä–µ–≤—ñ—Ä—è—î–º–æ, —á–∏ –≤—Å—ñ –º—ñ—Å—ñ—ó –ø—Ä–æ–π–¥–µ–Ω—ñ
                    if (gameState.completedMissions.length === PROJECT_CONFIG.missions.length) {
                        document.getElementById('decoderBtn').style.display = 'block';
                        gameState.score += PROJECT_CONFIG.scoring.allMissionsBonus;
                        
                        // –î–æ–¥–∞—î–º–æ –±–æ–Ω—É—Å –∑–∞ —à–≤–∏–¥–∫—ñ—Å—Ç—å
                        const timeSpent = (Date.now() - gameState.startTime) / 1000 / 60; // —É —Ö–≤–∏–ª–∏–Ω–∞—Ö
                        if (timeSpent < 10) {
                            gameState.score += PROJECT_CONFIG.scoring.timeBonus;
                        }
                    }
                    
                    alert(`‚úÖ –í–Ü–†–ù–û!\n–û—Ç—Ä–∏–º–∞–Ω–æ —Å–∏–º–≤–æ–ª: ${mission.codeChar}\n+${PROJECT_CONFIG.scoring.correctAnswer} –±–∞–ª–∏`);
                }
                
                closeMission();
            } else {
                alert("‚ùå –ü–û–ú–ò–õ–ö–ê!\n–ü–æ–¥—É–º–∞–π —â–µ —Ä–∞–∑. –ó–≥–∞–¥–∞–π –ø—Ä–∞–≤–∏–ª–∞ –±–µ–∑–ø–µ–∫–∏!");
            }
        }

        function updateCodeDisplay() {
            for (let i = 0; i < 5; i++) {
                const char = gameState.collectedCode[i];
                const element = document.getElementById(`codeChar${i + 1}`);
                
                if (char === '_') {
                    element.textContent = '‚ö´';
                    element.style.color = '#666';
                } else {
                    element.textContent = char;
                    element.style.color = PROJECT_CONFIG.missions[i].color;
                    element.style.textShadow = `0 0 10px ${PROJECT_CONFIG.missions[i].color}`;
                }
            }
        }

        // ============ –î–ï–®–ò–§–†–£–í–ê–ù–ù–Ø ============
        function openDecoder() {
            showScreen(3);
        }

        function startDecoding() {
            const inputCode = document.getElementById('finalCode').value.toUpperCase().trim();
            
            if (inputCode.length !== 5) {
                alert("–ö–æ–¥ –º–∞—î –º—ñ—Å—Ç–∏—Ç–∏ —Ä—ñ–≤–Ω–æ 5 —Å–∏–º–≤–æ–ª—ñ–≤!");
                return;
            }
            
            if (inputCode !== PROJECT_CONFIG.finalCode) {
                alert("‚ùå –ö–û–î –ù–ï–í–Ü–†–ù–ò–ô!\n–ü–µ—Ä–µ–≤—ñ—Ä, —á–∏ –ø—Ä–∞–≤–∏–ª—å–Ω–æ —Ç–∏ —Å–∫–ª–∞–≤ —Å–∏–º–≤–æ–ª–∏ –∑ —É—Å—ñ—Ö –º—ñ—Å—ñ–π.");
                return;
            }
            
            // –ó–∞–ø—É—Å–∫–∞—î–º–æ –∞–Ω—ñ–º–∞—Ü—ñ—é –¥–µ—à–∏—Ñ—Ä—É–≤–∞–Ω–Ω—è
            const decodeResult = document.getElementById('decodeResult');
            const decodeMessage = document.getElementById('decodingMessage');
            
            decodeMessage.innerHTML = '<p><i class="fas fa-sync-alt fa-spin"></i> –ó–ê–ü–£–°–ö –ö–í–ê–ù–¢–û–í–û–ì–û –ê–ù–ê–õ–Ü–ó–£...</p>';
            
            let steps = 0;
            const interval = setInterval(() => {
                // –ì–µ–Ω–µ—Ä—É—î–º–æ –≤–∏–ø–∞–¥–∫–æ–≤—ñ —Å–∏–º–≤–æ–ª–∏ –¥–ª—è –µ—Ñ–µ–∫—Ç—É
                let randomChars = '';
                for (let i = 0; i < 7; i++) {
                    randomChars += String.fromCharCode(65 + Math.floor(Math.random() * 26));
                }
                decodeResult.textContent = randomChars;
                
                steps++;
                
                if (steps === 10) {
                    clearInterval(interval);
                    decodeResult.textContent = PROJECT_CONFIG.secretMessage;
                    decodeMessage.innerHTML = `
                        <p style="color: var(--neon-green); font-size: 24px;">
                            <i class="fas fa-check-circle"></i> –î–ï–®–ò–§–†–£–í–ê–ù–û!
                        </p>
                        <p>–°–µ–∫—Ä–µ—Ç–Ω–µ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è: <strong>${PROJECT_CONFIG.secretMessage}</strong></p>
                        <p>–¢–∏ —Å—Ç–∞–≤ —Å–ø—Ä–∞–≤–∂–Ω—ñ–º –∞–≥–µ–Ω—Ç–æ–º –±–µ–∑–ø–µ–∫–∏!</p>
                    `;
                    
                    document.getElementById('certificateBtn').style.display = 'block';
                }
            }, 300);
        }

        // ============ –°–ï–†–¢–ò–§–Ü–ö–ê–¢ ============
        function showCertificate() {
            showScreen(4);
        }

        function loadCertificateData() {
            document.getElementById('certName').textContent = gameState.agentName.toUpperCase();
            document.getElementById('certNumber').textContent = gameState.certificateNumber;
            
            // –í—Å—Ç–∞–Ω–æ–≤–ª—é—î–º–æ –ø–æ—Ç–æ—á–Ω—É –¥–∞—Ç—É
            const now = new Date();
            const dateString = now.toLocaleDateString('uk-UA', {
                day: '2-digit',
                month: '2-digit',
                year: 'numeric'
            });
            document.getElementById('certDate').textContent = dateString;
        }

        function printCertificate() {
            window.print();
        }

        function downloadCertificate() {
            alert("–§—É–Ω–∫—Ü—ñ—è –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è PDF –±—É–¥–µ —Ä–µ–∞–ª—ñ–∑–æ–≤–∞–Ω–∞ –≤ –Ω–∞—Å—Ç—É–ø–Ω—ñ–π –≤–µ—Ä—Å—ñ—ó!");
            // –¢—É—Ç –º–æ–∂–Ω–∞ —ñ–Ω—Ç–µ–≥—Ä—É–≤–∞—Ç–∏ –±—ñ–±–ª—ñ–æ—Ç–µ–∫—É –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü—ñ—ó PDF
        }

        function shareCertificate() {
            const text = `–Ø —Å—Ç–∞–≤(–ª–∞) –∞–≥–µ–Ω—Ç–æ–º –±–µ–∑–ø–µ–∫–∏ –î–°–ù–° –£–∫—Ä–∞—ó–Ω–∏! –ü—Ä–æ–π—à–æ–≤(–ª–∞) –∫—É—Ä—Å "–ê—Ç–º–æ—Å—Ñ–µ—Ä–∞" —Ç–∞ –æ—Ç—Ä–∏–º–∞–≤(–ª–∞) —Å–µ—Ä—Ç–∏—Ñ—ñ–∫–∞—Ç ‚Ññ${gameState.certificateNumber}. –ü—Ä–∏—î–¥–Ω—É–π—Å—è –¥–æ –Ω–∞–≤—á–∞–Ω–Ω—è!`;
            alert(`–ü–æ–¥—ñ–ª–∏—Å—è —Ü–∏–º —Ç–µ–∫—Å—Ç–æ–º:\n\n${text}\n\n–°–∫–æ–ø–∏—Ä—É–π —Ç–∞ –≤—Å—Ç–∞–≤ —É —Å–æ—Ü–º–µ—Ä–µ–∂—ñ!`);
        }

        // ============ –ó–ê–í–ï–†–®–ï–ù–ù–Ø –ü–†–û–Ñ–ö–¢–£ ============
        function finishProject() {
            // –ó–±–µ—Ä—ñ–≥–∞—î–º–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∏ –≤ –æ—Å–Ω–æ–≤–Ω—É –≥—Ä—É
            localStorage.setItem('level6_score', gameState.score);
            localStorage.setItem('level6_stars', 3); // –§—ñ–Ω–∞–ª—å–Ω–∏–π –ø—Ä–æ—î–∫—Ç –∑–∞–≤–∂–¥–∏ –¥–∞—î 3 –∑—ñ—Ä–∫–∏
            localStorage.setItem('level6_completed', 'true');
            localStorage.setItem('project_completed', 'true');
            
            // –ü–æ–∫–∞–∑—É—î–º–æ —Ñ—ñ–Ω–∞–ª—å–Ω–µ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è
            const finalScore = Math.min(gameState.score, PROJECT_CONFIG.scoring.totalMax);
            const message = `
                üéâ –ü–†–û–Ñ–ö–¢ –£–°–ü–Ü–®–ù–û –ó–ê–í–ï–†–®–ï–ù–û!
                
                –¢–≤—ñ–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç: ${finalScore}/${PROJECT_CONFIG.scoring.totalMax} –±–∞–ª—ñ–≤
                –ó—ñ—Ä–æ–∫ –æ—Ç—Ä–∏–º–∞–Ω–æ: ‚òÖ‚òÖ‚òÖ
                
                –¢–∏ —Å—Ç–∞–≤(–ª–∞) —Å–ø—Ä–∞–≤–∂–Ω—ñ–º –∞–≥–µ–Ω—Ç–æ–º –±–µ–∑–ø–µ–∫–∏ –î–°–ù–° –£–∫—Ä–∞—ó–Ω–∏!
                –ó–Ω–∞—î—à –ø—Ä–∞–≤–∏–ª–∞ –ø–æ–≤–µ–¥—ñ–Ω–∫–∏ –ø—ñ–¥ —á–∞—Å –Ω–µ–≥–æ–¥–∏ —Ç–∞ –≤–º—ñ—î—à —ó—Ö –∑–∞—Å—Ç–æ—Å–æ–≤—É–≤–∞—Ç–∏.
                
                –ü–æ–≤–µ—Ä—Ç–∞—î–º–æ—Å—å –¥–æ –≥–æ–ª–æ–≤–Ω–æ—ó –≥—Ä–∏...
            `;
            
            if (confirm(message)) {
                // –ü–æ–≤–µ—Ä—Ç–∞—î–º–æ—Å—è –¥–æ –≥–æ–ª–æ–≤–Ω–æ—ó –≥—Ä–∏
                window.location.href = '../game.html?level=6&score=' + finalScore + '&stars=3';
            }
        }

        // ============ –î–û–î–ê–¢–ö–û–í–Ü –§–£–ù–ö–¶–Ü–á ============
        function showHint() {
            alert("üí° –ü—ñ–¥–∫–∞–∑–∫–∞: –£–≤–∞–∂–Ω–æ —á–∏—Ç–∞–π —Ç–µ–æ—Ä–µ—Ç–∏—á–Ω—É —á–∞—Å—Ç–∏–Ω—É –∫–æ–∂–Ω–æ—ó –º—ñ—Å—ñ—ó. –í—ñ–¥–ø–æ–≤—ñ–¥—ñ –Ω–∞ –ø–∏—Ç–∞–Ω–Ω—è –º—ñ—Å—Ç—è—Ç—å—Å—è —Å–∞–º–µ —Ç–∞–º!");
        }

        function restartProject() {
            if (confirm("–¢–æ—á–Ω–æ —Ö–æ—á–µ—à –ø–æ—á–∞—Ç–∏ –ø—Ä–æ—î–∫—Ç –∑ –ø–æ—á–∞—Ç–∫—É? –í–µ—Å—å –ø—Ä–æ–≥—Ä–µ—Å –±—É–¥–µ –≤—Ç—Ä–∞—á–µ–Ω–æ.")) {
                localStorage.removeItem('safe_agent_progress');
                localStorage.removeItem('project_completed');
                location.reload();
            }
        }
    </script>

    <!-- –î–æ–¥–∞—î–º–æ –∫–Ω–æ–ø–∫–∏ –¥–æ–ø–æ–º–æ–≥–∏ -->
    <div style="position: fixed; bottom: 20px; right: 20px; z-index: 1000;" class="no-print">
        <button class="btn-secondary" onclick="showHint()" style="margin: 5px;">
            <i class="fas fa-lightbulb"></i> –ü—ñ–¥–∫–∞–∑–∫–∞
        </button>
        <button class="btn-secondary" onclick="restartProject()" style="margin: 5px;">
            <i class="fas fa-redo"></i> –ü–æ—á–∞—Ç–∏ –∑–Ω–æ–≤—É
        </button>
        <button class="btn-secondary" onclick="window.location.href='../index.html'" style="margin: 5px;">
            <i class="fas fa-home"></i> –ù–∞ –≥–æ–ª–æ–≤–Ω—É
        </button>
    </div>
</body>
</html>
